#2.0
    1.  package.json ìƒì„±
        â©   í„°ë¯¸ë„ì— npm init ì…ë ¥í•˜ë©´ ìë™ìœ¼ë¡œ ìƒì„±nodeJS í”„ë¡œì íŠ¸
        â©   package.jsonì€ nodeJS í”„ë¡œì íŠ¸
        â©   JSON = í”„ë¡œê·¸ë˜ë¨¸ê°€ íŒŒì¼ì— ì •ë³´ë¥¼ ì €ì¥í•˜ê¸° ìœ„í•´ ë§Œë“  ë°©ì‹ ì¤‘ í•˜ë‚˜ (ë³´í†µ ê°ì²´ë¥¼ ìƒê°í•˜ë©´ ëŒ)
            â•  package.jsonì˜ ë‚´ë¶€ëŠ” JSON ë°©ì‹ìœ¼ë¡œ ì‘ì„±ë˜ì–´ ìˆìŒ

    2.  index.jsìƒì„± 

ğŸŒˆ        ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ

#2.1
    1.  express ì„¤ì¹˜
        â©   npm i express
            â•  node_modules í´ë” ìƒê¹€
                ğŸ‘‰ğŸ»  npmìœ¼ë¡œ ì„¤ì¹˜í•œ ëª¨ë“  íŒ¨í‚¤ì§€ê°€ ì €ì¥
            â•  packge-lock.json ìƒì„±

    2.  package.json ìˆ˜ì •
        â©   "scripts" : { "server" : "node index.js" }
            â•  í„°ë¯¸ë„ì— npm run dev ì…ë ¥í•˜ë©´ index.jsê°€ ì‹¤í–‰ëœë‹¤.
        â©   "dependencies" : { "express" :  "^4.18.1" }
            â•  expressê°€ ì„¤ì¹˜ë˜ë©´ì„œ ìë™ìœ¼ë¡œ ì¶”ê°€ ëœë‹¤.

ğŸŒ        ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ

#2.2
    1.  .gitignore ìƒì„±
        â©   /node_modules

    2.  npm i 
        â©   npmì´ package.jsonì˜ "dependencies"ë¥¼ ë³´ê³  í•„ìš”í•œ ê²ƒë“¤ì„ ëª¨ë‘ ì„¤ì¹˜í•´ì¤€ë‹¤.

ğŸŒˆ        ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ

#2.3
    1.  babel ì„¤ì¹˜ ë°©ë²•
        â©   babelì€ ìµœì‹ ì‹ JSë¬¸ë²•ì„ êµ¬ì‹ JSë¬¸ë²•ìœ¼ë¡œ ë³€í™˜ì‹œì¼œ nodeJS ê°€ ì´í•´ í•  ìˆ˜ ìˆë„ë¡ í•´ì¤€ë‹¤.
        â©   babeljs í™ˆí˜ì´ì§€ > Setup > nodeì„ íƒ > 2ë²ˆ ë³µë¶™ > babel.config.json ìƒì„± > 4ë²ˆ-shell ë³µë¶™ > 4ë²ˆ-JSONì„ babel.config.jsonì— ë³µë¶™

ğŸŒ        ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ

#2.4
    1.  nodemon ì„¤ì¹˜ ë°©ë²•
        â©   nodemonì€ ì„œë²„ì˜ ë³€ë™ì‚¬í•­ì„ ê°ì§€í•´ì„œ ìë™ìœ¼ë¡œ ì„œë²„ë¥¼ ì¬ì‹œì‘ í•´ì¤€ë‹¤. 
        â©   babeljs í™ˆí˜ì´ì§€ > Setup > nodemon > 2ë²ˆ ë³µë¶™ > package.json > npm i nodemon --save-dev > package.json > "scripts" : { "dev" : "nodemon --exec babel-node index.js" } 
    
    

ğŸŒˆ        ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ

#3.0
    1.  src í´ë” ìƒì„±
        â©   ì½”ë“œì™€ ë¡œì§ì„ ê°€ì§€ê³  ìˆëŠ” íŒŒì¼ë“¤ì„ ë„£ëŠ”ë‹¤.
    
    2.  package.json ìˆ˜ì •
        â©   "scripts": { "dev": "nodemon --exec babel-node src/server.js" }
            â•  index.js â¡ server.js íŒŒì¼ëª… ë³€ê²½ ë° ê²½ë¡œ ë³€ê²½ 
    
    3.  server.js ìˆ˜ì •
        â©   import express from "express"
            â•  ì„œë²„ ì„í¬íŠ¸
        â©   const app = express();
            â•  ì„œë²„ ì„ ì–¸
        â©   app.listen(PORT, handleListening);
            â•  ì„œë²„ì— PORTë²ˆí˜¸ë¥¼ ë¶€ì—¬í•œë‹¤
        â©   const handleListening = () => {}

ğŸŒ        ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ

#3.1    
    1.  GETì€ HTTP methodì¤‘ í•˜ë‚˜ë‹¤.
 
ğŸŒˆ        ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ

#3.2
    1.  server.js ìˆ˜ì •
        â©   app.get("/",handleHome)
            â•  get(route,controller)
            â•  ë¸Œë¼ìš°ì €ê°€ ì„œë²„ì— "/" ê²½ë¡œë¡œ GETìš”ì²­ì„ ë³´ë‚´ë©´ handleHome í•¨ìˆ˜ê°€ ì‹¤í–‰ëœë‹¤.
        â©   const handleHome = () => console.log("Somebody is trying to go home.");

ğŸŒ        ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ

#3.3
    1.  ì„œë²„ì¤‘ë‹¨ í•˜ëŠ”ë²•
        â©   ctrl + c

    2.  controllerì—ëŠ” expressê°€ ë¶€ì—¬í•œ req,res objectê°€ ìˆë‹¤.
        â©   console.log(req/res)

    3.  server.js ìˆ˜ì •  
        â©   return res.send("I still love you.");
            â•  res.send()ëŠ” ()ì•ˆì˜ textë¥¼ í™”ë©´ì— ì¶œë ¥í•˜ê³  requestë¥¼ ëë‚¸ë‹¤.
            â•  res.end()ëŠ” requestë¥¼ ëë‚¸ë‹¤.

    4.  í˜ì´ì§€ë¥¼ ë§Œë“œëŠ” ìˆœì„œ 
        â©   ì„œë²„ì— routeë¥¼ ì§€ì •í•´ì£¼ê³ , controllerë¥¼ ë¶€ì—¬í•œë’¤ controllerë¥¼ ì‘ì„±
    
ğŸŒˆ        ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ

#3.4
    1.  http://expressjs.com/en/5x/api.html#express
        â©   express document

ğŸŒ        ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ        

#3.5    
    1.  middleware ì„¤ëª…
        â©   requestì´í›„ responseì´ì „ì˜ ì†Œí”„íŠ¸ì›¨ì–´
        â©   middlewareì—ëŠ” expressê°€ next argumentë¥¼ ë¶€ì—¬í•´ì¤€ë‹¤
    
    2.  server.js ìˆ˜ì •
        â©   const gossipMiddleware = (req, res, next) => {}
            â•  console.log(`Someone is going to: ${req.url}`);
                ğŸ‘‰ğŸ»  req.url ì€ ì–´ë–¤ urlë¡œ ìš”ì²­ë˜ì—ˆëŠ”ì§€ í™•ì¸ í•  ìˆ˜ ìˆë‹¤.
            â•  next();
                ğŸ‘‰ğŸ»  middlewareì— next()ë¥¼ ì¨ì•¼ ë‹¤ìŒ controllerë¡œ ë„˜ì–´ê°„ë‹¤.

ğŸŒˆ        ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ

#3.6
    1.  globalMiddleware(app.use) ì„¤ëª…
        â©   app.use(middleware)
            â•  app.use(middleware)ëŠ” globalMiddlewareë¥¼ ë§Œë“¤ ìˆ˜ ìˆê²Œ í•´ì¤€ë‹¤.
            â•  app.use(middleware)ëŠ” app.get()ë³´ë‹¤ ë¨¼ì € ì™€ì•¼ í•œë‹¤.
            â•  appì— ë“¤ì–´ì˜¤ëŠ” ëª¨ë“  ìš”ì²­ì€ app.use(middleware)ë¥¼ ê±°ì³ ì§„í–‰ëœë‹¤.
            â•  app.use(middleware)ë¡œ íŠ¹ì • urlì˜ ìš”ì²­ì€ ê±°ë¶€í•  ìˆ˜ë„ ìˆë‹¤.
    
    2.  server.js ìˆ˜ì •
        â©   const logger = (req, res, next) => {}
            â•  console.log(`${req.method} ${req.url}`);
                ğŸ‘‰ğŸ»  req.method ëŠ” ìš”ì²­ëœ methodê°€ GETì¸ì§€ POSTì¸ì§€ í™•ì¸ í•  ìˆ˜ ìˆë‹¤.
        â©   const protectedMiddleware = (req, res, next) => {}
            â•  ifë¬¸ì„ ì¨ì„œ íŠ¹ì • urlì˜ ìš”ì²­ì„ ê±°ë¶€í•¨
        â©   app.use(protectedMiddleware);
        â©   app.get("/", logger, handleHome);

ğŸŒ        ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ        

#3.7
    1.  package.json ì„¤ëª…
        â©   package.jsonì€ node.js ê´€ë ¨ ì •ë³´ë¥¼ ë‹´ëŠ” ë°©ë²•
        â©   scriptsì— "key"ì™€ "value"ë¥¼ ì ìœ¼ë©´ npm run keyë¡œ valueë¥¼ ì‹¤í–‰í• ìˆ˜ìˆë‹¤.
        â©   dependenciesëŠ” í”„ë¡œì íŠ¸ê°€ ëŒì•„ê°€ê¸°ìœ„í•´ í•„ìš”í•œ íŒŒì¼ë“¤ (node_modulesí´ë”ì— ì €ì¥ëœë‹¤)
        â©   dependenciesê°€ ì‘ì„±ëœ ìƒíƒœì—ì„œ npm i í•˜ë©´ npmì´ ì•Œì•„ì„œ í•„ìš”í•œ íŒŒì¼ë“¤ì„ ì„¤ì¹˜í•´ì¤€ë‹¤
        â©   nodemonì€ íŒŒì¼ì´ ìˆ˜ì •ë˜ê³  ì €ì¥ë ë•Œë§ˆë‹¤ ì„œë²„ë¥¼ ì¬ì‹œì‘í•´ì£¼ëŠ” íˆ´ì´ë‹¤
    
    2.  Setup ìˆœì„œ
        â©  ì²«ë²ˆì§¸ë¡œ npm initì„ ì´ìš©í•´ package.jsonì„ ìƒì„±
        â©  ë‘ë²ˆì§¸ë¡œ npm i express
        â©  ì„¸ë²ˆì§¸ë¡œ .gitignore íŒŒì¼ ìƒì„± > /node_modules ì‘ì„± (ê·¸ ì™¸ ì»¤ë°‹ì— ì œì™¸ í•  íŒŒì¼/í´ë”ë“¤ ì‘ì„±)
        â©  ë„¤ë²ˆì§¸ë¡œ srcí´ë”ìƒì„± > main JS íŒŒì¼ ìƒì„±
        â©  ë‹¤ì„¯ë²ˆì¨°ë¡œ ë°”ë²¨ ì„¤ì¹˜
            â•  babeljs í™ˆí˜ì´ì§€ > Setup > node > 2ë²ˆ ì½˜ì†”ì— ë³µë¶™ > babel.config.json ìƒì„± > 4ë²ˆ-shell ì½˜ì†”ì— ë³µë¶™ > 4ë²ˆ-JSONì„ babel.config.jsonì— ë³µë¶™
        â©  ì—¬ì„¯ë²ˆì§¸ë¡œ nodemon ì„¤ì¹˜
            â•  babeljs í™ˆí˜ì´ì§€ > Setup > nodemon > 2ë²ˆ ì½˜ì†”ì— ë³µë¶™ > npm i nodemon --save-dev > package.json > "scripts" : { "dev" : "nodemon --exec babel-node index.js" } 

ğŸŒˆ        ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ

#3.8
    1.  ì„œë²„ì™€ routes
        â©   ì„œë²„ëŠ” í•­ìƒ ì¼œì ¸ìˆê³ , ì¸í„°ë„·ì— ì—°ê²°ë˜ì–´ìˆê³ , requestë¥¼ listening í•˜ê³ ìˆëŠ” ì»´í“¨í„°ë‹¤
        â©   requestëŠ” ìš°ë¦¬ê°€ ì„œë²„ì—ê²Œ ìš”ì²­í•˜ëŠ” ê²ƒë“¤
        â©   routeëŠ” ê¸°ë³¸url + / , /login , /join , /blahblah ê°™ì€ ê²ƒë“¤ì„ í†µì¹­í•˜ëŠ”ë§
        â©   methodëŠ” ì„œë²„ì— ìš”ì²­ì„ ì–´ë–¤ë°©ì‹ìœ¼ë¡œ í• ì§€ ë‚˜íƒ€ë‚´ëŠ” ê²ƒ
    
    2.  main JS ì‘ì„± ìˆœì„œ
        â©   ì²«ë²ˆì¨°ë¡œ expressë¥¼ importí•´ì˜¤ê³  app ë³€ìˆ˜ì— express()ë¥¼ ë‹´ëŠ”ë‹¤
            â•  import express from "express"
        â©   ë‘ë²ˆì§¸ë¡œ appì— í¬íŠ¸ë²ˆí˜¸ë¥¼ ì§€ì •í•´ì£¼ê³  í•´ë‹¹í¬íŠ¸ë²ˆí˜¸ë¥¼ listening í•˜ê²Œ í•œë‹¤
            â•  const app = express()
        â©   ì„¸ë²ˆì§¸ë¡œ appì— methodë¥¼ ì´ìš©í•˜ì—¬ routeì™€ controllerë¥¼ ì„¤ì •í•´ì¤€ë‹¤
            â•  app.get("route",controller)
        â©   ë„¤ë²ˆì¨°ë¡œ controllerë‚´ë¶€ë¥¼ ì‘ì„±í•´ì¤€ë‹¤
            â•  const controller = (req,res) => {} 

ğŸŒ        ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ        

#3.9    
    1.  controller
        â©   controllerëŠ” expressë¡œë¶€í„° req,res ì˜¤ë¸Œì íŠ¸ë¥¼ ë¶€ì—¬ë°›ëŠ”ë‹¤
            â•  const controller = (req,res) => {} 
        â©   reqëŠ” ìš”ì²­ì— ëŒ€í•œ ì •ë³´ë¥¼ ë‹´ê³ ìˆë‹¤. 
        â©   controllerì˜ ë§ˆì§€ë§‰ì—” returnì„ ê¼­ ì“°ì
            â•  const controller = (req,res) => {return res.end()} 

ğŸŒˆ        ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ

#3.10
    1.  middleware
        â©   ë¯¸ë“¤ì›¨ì–´ëŠ” requestì™€ responseì¤‘ê°„ì— ìˆëŠ” ì†Œí”„íŠ¸ì›¨ì–´
        â©   ë¯¸ë“¤ì›¨ì–´ëŠ” ì›í•˜ëŠ”ë§Œí¼ ì‘ì„±ê°€ëŠ¥
            â•  app.get(route,middleware, middleware2 , ... middleware100 ,controller)
        â©   ë¯¸ë“¤ì›¨ì–´ëŠ” expressë¡œë¶€í„° req,res ì˜¤ë¸Œì íŠ¸ì™€ next í•¨ìˆ˜ë¥¼ ì¶”ê°€ë¡œ ë¶€ì—¬ë°›ëŠ”ë‹¤
        â©   nextí•¨ìˆ˜ëŠ” í•´ë‹¹ ë¯¸ë“¤ì›¨ì–´ê°€ ì‹¤í–‰ì¢…ë£Œë˜ë©´ ë‹¤ìŒ controllerë¡œ ë„˜ì–´ê°€ê²Œ í•´ì£¼ëŠ” ì—­í• 
            â•  const middleware = (req,res,next) => {next()}
    
    2.  global middleware
        â©   app.use(middleware)
        â©   app.use(route,middleware)
        â©   app.use()ëŠ” app.get()ë³´ë‹¤ ìœ„ì— ìˆì–´ì•¼ í•œë‹¤.

ğŸŒ        ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ        

#3.11   
    1.  Morgan middleware
        â©   npm i morgan
        â©   morganì—ëŠ” dev,combined,common,short,tiny ë“± ì˜µì…˜ì´ ìˆë‹¤

    2.  server.js ìˆ˜ì •
        â©   morgan ì‚¬ìš©
            â•  import morgan from "morgan"
            â•  const logger = morgan("dev");
            â•  app.use(logger)

ğŸŒˆ        ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ

#4.0
    1.  routerëŠ” ì‘ì—…ì¤‘ì¸ ì£¼ì œë¥¼ ê¸°ë°˜ìœ¼ë¡œ urlì„ ê·¸ë£¹í™” í•´ì¤€ë‹¤
        â©   /   /login   /join   /search   ...  /users/edit   /users/delete   ...   /videos/watch   /videos/edit   ...
            â•  í•´ë‹¹ í”„ë¡œì íŠ¸ì—ì„œëŠ” globalRouterì™€ userRouter, videoRouterê°€ í•„ìš”

ğŸŒ        ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ        

#4.1
    1.  globalRouterëŠ” homeì—ì„œ ë°”ë¡œ ê°ˆ ìˆ˜ ìˆëŠ” ê²ƒë“¤ì„ ì§€ì •í•œë‹¤.
        â©   login, join, search ê°™ì€ ê²ƒë“¤

    2.  server.js ìˆ˜ì •
        â©   globalRouter ìƒì„±
            â•  const globalRouter = express.Router();
            â•  app.use("/",globalRouter)
            â•  globalRouter.get("/",handleHome)
            â•  const handleHome = (req,res) => {res.send("HOME")}
        â©   userRouter ìƒì„±
            â•  const userRouter = express.Router();
            â•  app.use("/users",userRouter)
            â•  userRouter.get("/edit",handleEditUser)
            â•  const handleEditUser = (req,res) => {res.send("Edit User")}
        â©   videoRouter ìƒì„±
            â•  const videoRouter = express.Router();
            â•  app.use("/videos",videoRouter)
            â•  videoRouter.get("/watch",handleWatchVideo)
            â•  const handleWatchVideo = (req,res) => {res.send("Watch Video")}

ğŸŒˆ        ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ

#4.2
    1.  ì½”ë“œ ì •ë¦¬
        â©   srcí´ë”ì•ˆì— routersí´ë” ìƒì„±
            â•  globalRouter.js ìƒì„±
                ğŸ‘‰ğŸ»  import express from "express"
                ğŸ‘‰ğŸ»  const globalRouter = express.Router();
                ğŸ‘‰ğŸ»  globalRouter.get("/", handleHome);
                ğŸ‘‰ğŸ»  handleHome controller ì‘ì„±
                ğŸ‘‰ğŸ»  export default globalRouter;
            â•  userRouter.js ìƒì„±
                ğŸ‘‰ğŸ»  import express from "express"
                ğŸ‘‰ğŸ»  const userRouter = express.Router();
                ğŸ‘‰ğŸ»  userRouter.get("/edit", handleEditUser);
                ğŸ‘‰ğŸ»  handleEditUser controller ì‘ì„±
                ğŸ‘‰ğŸ»  export default userRouter;
            â•  videoRouter.js ìƒì„±
                ğŸ‘‰ğŸ»  import express from "express"
                ğŸ‘‰ğŸ»  const videoRouter = express.Router();
                ğŸ‘‰ğŸ»  videoRouter.get("/watch", handleWatchVideo);
                ğŸ‘‰ğŸ»  handleWatchVideo controller ì‘ì„±
                ğŸ‘‰ğŸ»  export default videoRouter;
                    â¡  export default globalRouterëŠ” ëˆ„êµ°ê°€ globalRouter.jsë¥¼ ì„í¬íŠ¸í•˜ë©´ globalRouterìì²´ë¥¼ ì„í¬íŠ¸í•˜ëŠ”ê²ƒì´ë‹¤

ğŸŒ        ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ        

#4.3
    1.  exportì™€ export defaultì˜ ì°¨ì´
        â©   exportëŠ” JSíŒŒì¼ ë‚´ì—ì„œ ì—¬ëŸ¬ ë³€ìˆ˜ì— ì ìš©ì‹œí‚¬ ìˆ˜ ìˆë‹¤.
            â•  export defaultëŠ” JSíŒŒì¼ ë‚´ì—ì„œ í•˜ë‚˜ì˜ ë³€ìˆ˜ë§Œ ì ìš©ì‹œí‚¬ ìˆ˜ ìˆë‹¤.
        â©   exportëŠ” import ë˜ì—ˆì„ ë•Œ ë³€ìˆ˜ëª…ì„ ì¼ì¹˜ ì‹œì¼œì•¼ í•œë‹¤.
            â•  export defaultëŠ” import ë˜ì—ˆì„ ë•Œ ë³€ìˆ˜ëª…ì„ ì¼ì¹˜ ì‹œí‚¤ì§€ ì•Šì•„ë„ ëœë‹¤.

    2.  srcí´ë”ì•ˆì— controllersí´ë” ìƒì„±
        â©   userController.js ìƒì„±
            ğŸ‘‰ğŸ»  export const join = (req, res) => { res.send("JOIN"); }
            ğŸ‘‰ğŸ»  export const edit = (req, res) => { res.send("Edit User"); }
            ğŸ‘‰ğŸ»  export const remove = (req, res) => { res.send("Remove User"); }
        â©   videoController.js ìƒì„±
            ğŸ‘‰ğŸ»  export const trending = (req, res) => { res.send("HOME"); }
            ğŸ‘‰ğŸ»  export const watch = (req, res) => { res.send("Watch Video"); }
            ğŸ‘‰ğŸ»  export const edit = (req, res) => { res.send("Edit Video"); }

    3.  globalRouter.js ìˆ˜ì •
        â©   import { join } from "../controllers/userController";
        â©   import { trending } from "../controllers/videoController";
        â©   globalRouter.get("/", trending);
        â©   globalRouter.get("/join", join);

    4.  userRouter.js ìˆ˜ì •
        â©   import { edit, remove } from "../controllers/userController";
        â©   userRouter.get("/edit", edit);
        â©   userRouter.get("/delete", remove);

    5.  videoRouter.js ìˆ˜ì •
        â©   import { edit, watch } from "../controllers/videoController";
        â©   videoRouter.get("/watch", watch);
        â©   videoRouter.get("/edit", edit);

ğŸŒˆ        ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ

#4.6
    1.  userController.js ìˆ˜ì •
        â©   export const login = (req, res) => {}
        â©   export const logout = (req, res) => {}
        â©   export const see = (req, res) => {}
    
    2.  videoController.js ìˆ˜ì •
        â©   export const see = (req, res) => {}
        â©   export const search = (req, res) => {}
        â©   export const upload = (req, res) => {}
        â©   export const deleteVideo = (req, res) => {}

    3.  globalRouter.js ìˆ˜ì •
        â©   import { join, login } from "../controllers/userController"
        â©   import { search, trending } from "../controllers/videoController";
        â©   globalRouter.get("/login", login);
        â©   globalRouter.get("/search", search);

    4.  userRouter.js ìˆ˜ì •
        â©   import { edit, logout, remove, see } from "../controllers/userController";
        â©   userRouter.get("/logout", logout);
        â©   userRouter.get("/:id", see);
    
    5.  videoRouter.js ìˆ˜ì •
        â©   import { see } from "../controllers/userController";
        â©   import { deleteVideo, edit, upload } from "../controllers/videoController";
        â©   videoRouter.get("/upload", upload);
        â©   videoRouter.get("/:id", see);
        â©   videoRouter.get("/:id/edit", edit);
        â©   videoRouter.get("/:id/delete", deleteVideo);

ğŸŒ        ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ        

#4.7
    1.  url íŒŒë¼ë¯¸í„° ì‚¬ìš©ë²•
        â©   app.get("/:id",controller)
            ğŸ‘‰ğŸ»  /:id ëŠ” ì—¬ê¸°ì— ì íŒ routeë¥¼ idë¼ëŠ” ë³€ìˆ˜ì— ë‹´ëŠ”ë‹¤
            ğŸ‘‰ğŸ»  controllerì—ì„œ req.params í•˜ë©´ íŒŒë¼ë¯¸í„°ë¥¼ ì¡°íšŒí• ìˆ˜ìˆë‹¤.
                â•  { id : value } ì´ëŸ°ì‹ìœ¼ë¡œ ë‚˜ì˜¨ë‹¤.

ğŸŒˆ        ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ

#4.8
    1.  url íŒŒë¼ë¯¸í„° ì •ê·œí‘œí˜„ì‹
        â©   (\w+) (\d+)

    2.  videoRouter.js ìˆ˜ì •
        â©   videoRouter.get("/:id(\\d+)", see);
        â©   videoRouter.get("/:id(\\d+)/edit", edit);
        â©   videoRouter.get("/:id(\\d+)/delete", deleteVideo);

    3.  userRouter.js ìˆ˜ì •
        â©   userRouter.get("/:id(\\d+)", see);
        
ğŸŒ        ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ        

#5.1
    1.  Pug 
        â©   npm i pug
        â©   pugëŠ” tagë¥¼ ì—´ê³  ë‹«ì§€ ì•Šê³  ë“¤ì—¬ì“°ê¸°ë¡œ í•´ê²°í•œë‹¤.
        â©   pugí…œí”Œë¦¿ì€ viewsí´ë” ì•ˆì— ì‘ì„±ë˜ì–´ì•¼í•œë‹¤.
        â©   pugí…œí”Œë¦¿ì„ ì ìš©í•˜ë ¤ë©´ app.setì„ ì´ìš©í•˜ì—¬ viewì™€ view engineì„ ì…‹íŒ… í•´ì£¼ì–´ì•¼ í•œë‹¤
    
    2.  server.js ìˆ˜ì •
        â©   app.set("view engine", "pug")
            ğŸ‘‰ğŸ»  view engineì„ pugë¡œ ì…‹íŒ…
        â©   app.set("views", process.cwd() + "/src/views")
            ğŸ‘‰ğŸ»  viewsëŠ” viewsí´ë”ì˜ ìœ„ì¹˜ë¥¼ ì…‹íŒ…í•´ì¤€ë‹¤.
            ğŸ‘‰ğŸ»  process.cwd()ëŠ” package-jsonì˜ ìœ„ì¹˜
    
    3.  videoController.js ìˆ˜ì •
        â©   export const trending = (req, res) => {
            ğŸ‘‰ğŸ»  res.render("home")
                â•  expressê°€ ì•Œì•„ì„œ home.pugë¥¼ ë Œë”ë§ í•´ì¤€ë‹¤

    4.  viewsí´ë” ìƒì„±
        â©   home.pug ìƒì„±
            ğŸ‘‰ğŸ»  doctype html 
                html(lang="ko")
                head    
                title Youtube
                body 
                    h1 Welcome to Youtube 
                    footer &copy; 2022 Youtube

ğŸŒˆ        ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ

#5.2
    1.  pugì—ì„œ JS ë³€ìˆ˜ ì‚¬ìš©í•˜ëŠ”ë²• 
        â©   #{} ì‚¬ìš© 

    2.  partialsí´ë” ìƒì„±
        â©   partialsí´ë”ëŠ” pugì—ì„œ ë°˜ë³µë˜ëŠ” êµ¬ë¬¸ì„ ì‘ì„±í•œë‹¤.
        â©   footer.pug ìƒì„±
            ğŸ‘‰ğŸ»  footer &copy; #{new Date().getFullYear()} Youtube
                â•  #{}ë¥¼ ì´ìš©í•˜ì—¬ JSë³€ìˆ˜ë¥¼ ì‚¬ìš©

    3.  home.pug ìˆ˜ì •
        â©   include partials/footer.pug
            ğŸ‘‰ğŸ»  include ëª…ë ¹ì–´ëŠ” ë‹¤ë¥¸ pug í…œí”Œë¦¿ì„ ë¶ˆëŸ¬ì˜¬ ë•Œ ì‚¬ìš©í•œë‹¤.
    
    4.  watch.pug ìƒì„±
        â©  doctype html 
            html(lang="ko")
                head    
                    title Youtube
                body 
                    h1 Watch Video! 
                    include partials/footer.pug
    
    5.  videoController.js ìˆ˜ì •
        â©   export const see = (req, res) => {
            ğŸ‘‰ğŸ»  res.render("watch")

ğŸŒ        ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ        

#5.3
    1. block ëª…ë ¹ì–´
        â©   pugì—ì„œ blockì€ ë¹ˆê³µê°„ì„ ë§Œë“¤ì–´ì¤€ë‹¤.
            ğŸ‘‰ğŸ»  ë‹¤ë¥¸ í…œí”Œë¦¿ì—ì„œ blockì— ì˜í•´ ìƒê¸´ ë¹ˆê³µê°„ì„ ì±„ìš¸ ìˆ˜ ìˆë‹¤.
    
    2. extends ëª…ë ¹ì–´
        â©   pugì—ì„œ extendsëŠ” ë‹¤ë¥¸ í…œí”Œë¦¿ì„ ë¶ˆëŸ¬ì™€ì¤€ë‹¤. (í™•ì¥ì‹œí‚¬ í…œí”Œë¦¿)

    2.  base.pug ìƒì„±
        â©  doctype html 
            html(lang="ko")
                head    
                    block title
                body 
                    block content
                include partials/footer.pug
            ğŸ‘‰ğŸ»  block contentëŠ” í•´ë‹¹ìœ„ì¹˜ì— contentë¼ëŠ” blockì„ ë§Œë“ ê²ƒ

    3.  home.pug ìˆ˜ì •
        â©  extends base.pug
            block title
                title Youtbe | Home
            block content 
                h1 Home!
            ğŸ‘‰ğŸ»  extends base.pugëŠ” base.pugë¥¼ ë¶ˆëŸ¬ì™€ì„œ í™•ì¥ì‹œí‚¨ë‹¤ëŠ” ëœ»
            ğŸ‘‰ğŸ»  block title í•œì¤„ì•„ë˜ ë“¤ì—¬ì“°ê¸°ë¡œ blockì„ ì±„ìš¸ HTML íƒœê·¸ ì‘ì„±
    
    4.  watch.pug ìˆ˜ì •
        â©  extends base.pug
            block title 
                title Youtbe | Watch Video
            block content 
                h1 Watch Video!

    5.  edit.pug ìƒì„±
        â©  extends base.pug
            block title
                title Youtbe | Edit Video
            block content 
                h1 Edit Video!

    6.  videoController.js ìˆ˜ì •
        â©   export const edit = (req, res) => {
            ğŸ‘‰ğŸ»  res.render("edit")

ğŸŒˆ        ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ

#5.4
    1.  JSì—ì„œ pugë¡œ ë³€ìˆ˜ ë„˜ê¸°ê¸°
        â©   res.render("pugí…œí”Œë¦¿",{variable:"value"})
    
    2.  base.pug ìˆ˜ì •
        â©   title #{pageTitle} | Youtube
            ğŸ‘‰ğŸ»  pageTitle ë³€ìˆ˜ ì„¤ì •

    3   videoController.js ìˆ˜ì •
        â©   export const trending = (req, res) => {
            ğŸ‘‰ğŸ»  res.render("home", { pageTitle: "Home" });
                â•  res.renderì˜ ë‘ë²ˆì§¸ parameterë¡œ pugì— pageTitleë³€ìˆ˜ë¥¼ ë„˜ê²¨ì¤€ë‹¤

ğŸŒ        ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ        

#5.6
    1.  MVP.CSS
        â©   cssë¥¼ ì„ì‹œì ìœ¼ë¡œ ë¶€ì—¬í•´ì¤Œ
            â•  htmlíŒŒì¼ì˜ headë¶€ë¶„ì— ì¶”ê°€
    
    2.  base.pug ìˆ˜ì •
        â©   link(rel="stylesheet" href="https://unpkg.com/mvp.css")
            ğŸ‘‰ğŸ»  MVP CSS ì¶”ê°€ 
            ğŸ‘‰ğŸ»  headíƒœê·¸ ë‚´ë¶€ì— ì‘ì„±
        â©   main 
            ğŸ‘‰ğŸ»  mainíƒœê·¸ ì•ˆì˜ íƒœê·¸ë“¤ì€ ë¸Œë¼ìš°ì €í™”ë©´ì˜ ì•ˆìª½ìœ¼ë¡œ ëª¨ì—¬ì§

ğŸŒˆ        ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ

#5.7
    1.  PUG í…œí”Œë¦¿ì—ì„œ if, else ì‚¬ìš©í•˜ê¸°
        â©   if true/false
    
    2.  PUG í…œí”Œë¦¿ì—ì„œ JS ë³€ìˆ˜ ì‚¬ìš©ë²• 2ê°€ì§€ (controllerì—ì„œ ë³€ìˆ˜ ì „ë‹¬)
        â©   h1=pageTitle
        â©   h1 #{pageTitle}
            ğŸ‘‰ğŸ»  ë³€ìˆ˜ ë’¤ì— ë‹¤ë¥¸ í…ìŠ¤íŠ¸ë‘ ê°™ì´ ì“¸ìˆ˜ ìˆë‹¤
    
    3.  base.pug ìˆ˜ì •
        â©  if fakeUser.loggedIn
                small Hello #{fakeUser.username}
            ğŸ‘‰ğŸ»  ifë¬¸ ì‚¬ìš© ì˜ˆì œ
        â©  nav 
                ul 
                    if fakeUser.loggedIn
                        li 
                            a(href="/login") Logout
                    else
                        li 
                            a(href="/login") Login
            ğŸ‘‰ğŸ»  if elseë¬¸ ì‚¬ìš© ì˜ˆì œ
    
    4.  videoController.js ìˆ˜ì •
        â©   const fakeUser = {}

ğŸŒ        ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ        

#5.8
    1.  PUG í…œí”Œë¦¿ì—ì„œ each in else ì‚¬ìš©í•˜ê¸°
        â©   each item in array
                else 
            ğŸ‘‰ğŸ»  for each êµ¬ë¬¸ì´ë‘ ë¹„ìŠ·í•˜ë‹¤

    2.  home.pug ìˆ˜ì •
        â©  each video in videos
                li=video
            else 
                li Sorry nothing found.
            ğŸ‘‰ğŸ»  each in else ì‚¬ìš© ì˜ˆì œ

ğŸŒˆ        ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ

#5.9
    1.  Mixinì€ partialì¸ë° ë°ì´í„°ë¥¼ ë°›ì„ìˆ˜ ìˆëŠ” partial

    2.  videoController.js ìˆ˜ì •
        â©   const videos = [{}]
    
    3.  mixins í´ë” ìƒì„±
        â©   video.pug ìƒì„±  
            ğŸ‘‰ğŸ»  mixin video(video)
                    div     
                        h4=video.title
                        ul 
                            li #{video.rating}/5 ...
                â•  mixin vidoe(video)ëŠ” í•´ë‹¹ í…œí”Œë¦¿ì„ mixiní…œí”Œë¦¿ìœ¼ë¡œ ì„ ì–¸

    4.  home.pug ìˆ˜ì •
        â©   include mixins/video
            ğŸ‘‰ğŸ»  mixiní…œí”Œë¦¿ì„ includeí•¨ìœ¼ë¡œì¨ ì„í¬íŠ¸ ê°™ì€ ê²ƒì´ë‹¤
        â©   each video in videos
                +video(video)
            ğŸ‘‰ğŸ»  mixiní…œí”Œë¦¿ì„ ì‚¬ìš©í• ë• +mixin(variable) ì´ëŸ°ì‹ìœ¼ë¡œ ì‚¬ìš©í•œë‹¤
    
ğŸŒ        ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ        

#6.0
    1.  video.pug ìˆ˜ì •
        â©   h4
                a(href=`/videos/${video.id}`)=video.title
            ğŸ‘‰ğŸ»  PUGì—ì„œ íƒœê·¸ ì†ì„±ì—ëŠ” `${}`ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
    
    2.  videoController.js ìˆ˜ì •
        â©   export const see = (req, res) => {
            ğŸ‘‰ğŸ»  const { id } = req.params;
                â•  const id = req.params.id ë‘ ë˜‘ê°™ë‹¤ 
    
    3.  ë°±ì—”ë“œì— ë°ì´í„°ë³´ë‚´ëŠ”ë²• app.post(route,controller)

ğŸŒˆ        ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ

#6.1
    1.  videoController.js ìˆ˜ì •
        â©   export const watch = (req, res) => {}
    
    2.  watch.pug ìˆ˜ì •
        â©   h3 #{video.views} #{video.views < 2 ? "view" : "views"}
            ğŸ‘‰ğŸ»  video.views < 2 ? "view" : "views" ëŠ” ì‚¼í•­ì—°ì‚°ìë¥¼ ì´ìš©í•˜ì—¬ video.viewsê°€ ë³µìˆ˜ì¸ì§€ ë‹¨ìˆ˜ì¸ì§€ êµ¬ë³„í•´ë‚¸ë‹¤
        â©    a(href=`${video.id}/edit`) Edit Video &rarr;
            ğŸ‘‰ğŸ»  urlì€ 2ê°€ì§€ ì¢…ë¥˜ê°€ ìˆë‹¤ 
                â•  absolute url = a(href="/url")
                    â¡  ë£¨íŠ¸ urlë¶€í„° ë°”ë€ë‹¤ localhost:4000/videos/watch >> localhost:4000/url
                â•  relative url = a(href="url")
                    â¡  ëì˜ urlë§Œ ë°”ë€ë‹¤ localhost:4000/videos/watch >> localhost:4000/videos/upload

ğŸŒ        ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ        

#6.2    
    1.  videoController.js ìˆ˜ì •
        â©   export const trending = (req, res) => {}
        â©   export const watch = (req, res) => {}
        â©   export const getEdit = (req, res) => {}
        â©   export const postEdit = (req, res) => {};

    2.  videoRouter.js ìˆ˜ì •
        â©   videoRouter.post("/:id(\\d+)/edit", postEdit);
            ğŸ‘‰ğŸ»  postëŠ” í•´ë‹¹ routeì—ì„œ post ê°€ ì „ì†¡ë˜ì—ˆì„ ë•Œ ì‹¤í–‰ëœë‹¤.
        
    3.  edit.pug ìˆ˜ì •
        â©   form(method="post") 
            ğŸ‘‰ğŸ»  formì„ postë°©ì‹ìœ¼ë¡œ ì „ì†¡í•œë‹¤ (ê¸°ë³¸ê°’ = get)
            ğŸ‘‰ğŸ»  form(action="")ì€ formì´ ì „ì†¡ ë  urlì„ ì ëŠ”ë‹¤ (ì „ì†¡ ë  urlì´ í˜„ì¬ ìœ„ì¹˜í•˜ê³  ìˆëŠ” urlì´ë‘ ê°™ë‹¤ë©´ ìƒëµê°€ëŠ¥)
        â©   input(name="title",...)
            ğŸ‘‰ğŸ»  formì„ postë¡œ ì „ì†¡í•  ë•, form ì•ˆì˜ inputì— nameì„ ì§€ì •í•´ì£¼ì

ğŸŒˆ        ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ

#6.3
    1.  videoRouter.js ìˆ˜ì •
        â©   videoRouter.route("/:id(\\d+)/edit").get(getEdit).post(postEdit);
            ğŸ‘‰ğŸ»  app.getê³¼ app.postì˜ routeê°€ ë™ì¼í•˜ë©´ app.routeë¥¼ ì´ìš©í•˜ì—¬ í•œì¤„ë¡œ ì‘ì„±í•  ìˆ˜ ìˆë‹¤.

    2.  server.js ìˆ˜ì •
        â©   app.use(express.urlencoded({ extended: true }));
            ğŸ‘‰ğŸ»  postëœ formì„ post controllerì—ì„œ req.bodyë¡œ ë°›ì•„ì˜¤ë ¤ë©´ ìœ„ ì‘ì—…ì„ í•´ì£¼ì–´ì•¼í•œë‹¤

    3.  videoController.js ìˆ˜ì •
        â©   export const postEdit = (req, res) => {
            ğŸ‘‰ğŸ»  const { title } = req.body;
                â•  req.bodyëŠ” postë¡œ ì „ì†¡ëœ formì˜ ì •ë³´ë¥¼ ë°›ì•„ì˜¨ë‹¤
            ğŸ‘‰ğŸ»  res.redirect(`/videos/${id}`);
                â•  redirect(url)ì€ ë¸Œë¼ìš°ì €ë¥¼ urlë¡œ ì´ë™ì‹œì¼œì¤€ë‹¤.
                â•  res.render(template)ëŠ” templateë¥¼ htmlë¡œ ë³€í™˜í•˜ì—¬ ë Œë”ë§ì‹œì¼œ ë°˜í™˜í•´ì¤€ë‹¤.

ğŸŒ        ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ    

#6.5
    1.  videoController.js ìˆ˜ì •
        â©   export const getUpload = (req, res) => {
        â©   export const postUpload = (req, res) => {

    2.  videoRouter.js ìˆ˜ì •
        â©   videoRouter.route("/upload").get(getUpload).post(postUpload);

    3.  base.pug ìˆ˜ì •
        â©  nav
                ul 
                    li 
                        a(href="/videos/upload") Upload Video

    4.  upload.pug ìƒì„±
        â©  extends base
                block content   
                    h3 hello from upload
                    form(method="post")
                        input(name="title",placeholder="Title",required)
                        input(type="submit",value="Upload Video")

ğŸŒˆ        ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ

#6.6 
    1.  videoController.js  
        â©   export const postUpload = (req, res) => {
            ğŸ‘‰ğŸ»  videos.push(newVideo)
                â•  array.push(data)ëŠ” dataë¥¼ arrayì˜ ë§ˆì§€ë§‰ìš”ì†Œë¡œ ì¶”ê°€í•œë‹¤.

ğŸŒ        ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ             

#6.7
    1.  Mongo DB
        â©   ë¬¸ì„œë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•˜ëŠ” DB (JSONí˜•ì‹), ë‹¤ë¥¸ DBëŠ” ì—‘ì…€ì²˜ëŸ¼ ì—´ê³¼ í–‰ìœ¼ë¡œ ì´ë£¨ì–´ì ¸ ìˆìŒ
        â©   mongo DB ì„¤ì¹˜ 
            ğŸ‘‰ğŸ»  https://www.mongodb.com/docs/manual/tutorial/install-mongodb-on-windows/

ğŸŒˆ        ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ

#6.8
    1.  Mongo DB ì„¤ì¹˜ í™•ì¸
        â©   powershell > mongod > mongo > `connecting to: mongodb:url.....` ë©”ì‹œì§€ê°€ ì½˜ì†”ì— ìˆìŒ
    
    2.  Mongoose
        â©   node.jsì™€ mongoDBë¥¼ ì´ì–´ì£¼ëŠ” package
        â©   npm i mongoose
    
    3.  db.js ìƒì„±
        â©   import mongoose from "mongoose";
            ğŸ‘‰ğŸ»  mongoose ì„í¬íŠ¸
        â©   mongoose.connect("mongodb://127.0.0.1:27017/youtube_clone");
            ğŸ‘‰ğŸ»  í•´ë‹¹ urlì„ ìš°ë¦¬ì˜ dbë¡œ ì§€ì •í•œë‹¤
        â©   const db = mongoose.connection;
            ğŸ‘‰ğŸ»  ì—°ê²°ëœ dbì˜ ì •ë³´ë¥¼ dbë³€ìˆ˜ì— ë‹´ëŠ”ë‹¤
        â©   const handleOpen = () => console.log("âœ… Connected to DB");
        â©   const handleError = (error) => console.log("âŒ DB Error ", error);
        â©   db.on("error", (error) => console.log("DB Error ", error));
            ğŸ‘‰ğŸ»  on()ì€ ì½œë°±í•¨ìˆ˜ë¥¼ ê³„ì† ì—°ê²°í•œ ìƒíƒœë¥¼ ìœ ì§€ 
        â©   db.once("open", handleOpen);
            ğŸ‘‰ğŸ»  once()ëŠ” ì½œë°±í•¨ìˆ˜ë¥¼ í•œë²ˆë§Œ ì—°ê²° í›„ ì œê±°

    4.  server.js ìˆ˜ì •
        â©   import "./db";
            ğŸ‘‰ğŸ»  db.jsë¥¼ í†µì§¸ë¡œ ì„í¬íŠ¸

ğŸŒ        ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ             

#6.9
    1.  models í´ë” ìƒì„±
        â©   Video.js ìƒì„±
            ğŸ‘‰ğŸ»  Video modelì„ ì •ì˜í•  ê²ƒì´ë‹¤.

ğŸŒˆ        ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ

#6.10   
    1.  modelsí´ë” ìƒì„±
        â©   Video.js ìƒì„±
            ğŸ‘‰ğŸ»  import mongoose from "mongoose";
            ğŸ‘‰ğŸ»  const videoSchema = new mongoose.Schema({
                â•  title: String,
                     description: String,
                     createdAt: Date,
                     hashtags: [{ type: String }],
                     meta: {
                       views: Number,
                       rating: Number,
                       },
                â•  videoSchemaì— ìš°ë¦¬ì˜ ë°ì´í„° íƒ€ì…ë“¤ì„ ì •ì˜í•´ë†“ëŠ”ë‹¤.
            ğŸ‘‰ğŸ»  const Video = mongoose.model("Video", videoSchema);
            ğŸ‘‰ğŸ»  export default Video;

ğŸŒ        ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ             

#6.11
    1.  init.js ìƒì„±
        â©   server.jsì—ì„œ serverì˜ êµ¬ì„±ê³¼ ê´€ë ¨ì—†ëŠ” ì½”ë“œë“¤ì„ init.jsë¡œ ë¹¼ì˜´
    
    2.  videoController.js ìˆ˜ì •
        â©   import Video from "../models/Video";
            ğŸ‘‰ğŸ»  video model ì„í¬íŠ¸

ğŸŒˆ        ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ

#6.12
    1.  videoController.js ìˆ˜ì •
        â©   export const home = (req, res) => {
            ğŸ‘‰ğŸ»  Video.find({}, (err, videos) => {
                  console.log(err);
                  console.log(videos);
                });
                â•  Video.find() ê°™ì´ dbì— ìš”ì²­ì„ í•˜ëŠ” êµ¬ë¬¸ì€ dbë¡œë¶€í„° ì‘ë‹µë°›ëŠ” ì‹œê°„ì´ ê±¸ë¦°ë‹¤.
                    dbë¡œ ë¶€í„° ì‘ë‹µì„ ë°›ìœ¼ë©´ ì½œë°±í•¨ìˆ˜ê°€ ì‹¤í–‰ëœë‹¤.

ğŸŒ        ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ             

#6.13
    1.  videoController.js ìˆ˜ì •
        â©   export const home = async (req, res) => {
            ğŸ‘‰ğŸ»  try{
                    const videos = await Video.find({});
                    return res.render("home", { pageTitle: "Home", videos });
                } catch {
                    res.render("error");
                }
                â•  Video.find() ê°™ì´ dbì— ìš”ì²­ì„ í•˜ëŠ” êµ¬ë¬¸ì€ dbë¡œë¶€í„° ì‘ë‹µë°›ëŠ” ì‹œê°„ì´ ê±¸ë¦°ë‹¤.
                    async + await ëŠ” dbë¡œë¶€í„° ì‘ë‹µì„ ê¸°ë‹¤ë ¤ì£¼ê³ , ì‘ë‹µë°›ì€í›„ ë‹¤ìŒ ì½”ë“œë¥¼ ê³„ì† ì´ì–´ë‚˜ê°„ë‹¤.
                â•  awaitëŠ” í•¨ìˆ˜ ë‚´ì—ì„œë§Œ ì‹¤í–‰ê°€ëŠ¥í•˜ê³ , ê·¸í•¨ìˆ˜ëŠ” asyncì—¬ì•¼ í•œë‹¤.
                â•  try catchë¬¸ì„ ì‚¬ìš©í•˜ì—¬ ì—ëŸ¬ê²€ì¶œì„ í•œë‹¤.

ğŸŒˆ        ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ

#6.15
    1.  videoController.js ìˆ˜ì •
        â©   export const postUpload = (req, res) => {
            ğŸ‘‰ğŸ»  const { title, description, hashtags } = req.body;
                const video = new Video({
                    createdAt: Date.now(),
                    hashtags: hashtags.split(",").map((word) => `#${word}`),
                  });
                â•  Date.now()ëŠ” í˜„ì¬ ì‹œê°„ì„ ì•Œë ¤ì¤€ë‹¤
                â•  String.split(",")ëŠ” Stringì„ ,ë¡œ êµ¬ë¶„í•˜ì—¬ ë°°ì—´ë¡œ returní•´ì¤€ë‹¤
                â•  Array.map((word)=>`#${word}`)ëŠ” Arrayì— ë‹´ê¸´ ëª¨ë“ ìš”ì†Œì— `#$word}`ë¥¼ ì ìš©í•´ì¤Œ
                â•  Video modelë¡œ ê°ì²´ë¥¼ ìƒì„±í•˜ë©´ mongooseì—ì„œ idë¥¼ ë¶€ì—¬í•´ì¤€ë‹¤
    2.  upload.pug ìˆ˜ì •
        â©  input(name="description",placeholder="Description",required)
            input(name="hashtags",placeholder="Hashtags, seperated by comma.",required)
    
    mongoose modelì„ ì´ìš©í•˜ì—¬ ë°ì´í„°ë¥¼ ìƒì„±í•˜ë©´ mongooseëŠ” idë¥¼ ë¶€ì—¬í•´ì¤Œ 

ğŸŒ        ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ             

#6.16
    1.  videoController.js ìˆ˜ì • 
        â©   export const postUpload = async (req, res) => {
            ğŸ‘‰ğŸ»  const video = new Video({}
                await video.save()
                â•  await video.save()ëŠ” videoê°ì²´ ë§Œë“ ê²ƒì„ dbì— saveí•´ì¤€ë‹¤.
            ğŸ‘‰ğŸ»  awiat Video.create({
                    ...
                })
                â•  await Video.create()ë¥¼ ì´ìš©í•˜ì—¬ videoê°ì²´ë¥¼ ë§Œë“¦ê³¼ ë™ì‹œì— dbì— saveí• ìˆ˜ ìˆë‹¤.

ğŸŒˆ        ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ

#6.17
    1.  videoController.js ìˆ˜ì •
        â©   export const postUpload = async (req, res) => {
            ğŸ‘‰ğŸ»  try{

                } catch(error){
                    return res.render("upload", { pageTitle: "Upload Video", errorMessage: error._message });
                }
                â•  catchë¬¸ì—ì„œ console.log(error)ë¥¼ í•˜ë©´ errorë¥¼ ì¡°íšŒí• ìˆ˜ìˆë‹¤.
    
    2.  Video.js ìˆ˜ì •
        â©   const videoSchema = new mongoose.Schema({
            ğŸ‘‰ğŸ»  createdAt: { type: Date, required: true, default: Date.now },
                â•  required:trueëŠ” í•´ë‹¹ í”„ë¡œí¼í‹°ë¥¼ requiredë¡œ ì„¤ì •í•´ì¤Œ
                â•  default: Date.nowëŠ” í•´ë‹¹ í”„ë¡œí¼í‹°ì˜ ê¸°ë³¸ê°’ì„ ì„¤ì •í•´ì¤Œ
                â•  defaultê°€ ìˆìœ¼ë©´ requiredëŠ” ì—†ì–´ë„ëŒ

ğŸŒ        ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ             

#6.18
    1.  Video.js ìˆ˜ì •
        â©   const videoSchema = new mongoose.Schema({
            ğŸ‘‰ğŸ»  title: { type: String, required: true, uppercase: true, trim: true, minLength: 1 },
                description: { type: String, required: true, maxLength: 140 },
                â•  uppercaseëŠ” ëŒ€ë¬¸ì ì „í™˜, trimì€ ì–‘ìª½ ê³µë°±ì œê±° ì˜ ê¸°ëŠ¥ì„ í•œë‹¤. 

ğŸŒˆ        ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ

#6.19
    1.  videoController.js ìˆ˜ì •
        â©   export const watch = async (req, res) => {
            ğŸ‘‰ğŸ»  const video = await Video.findById(id);
                â•  url parameter idë¥¼ ì´ìš©í•˜ì—¬ Video dbì—ì„œ videoë¥¼ ì¡°íšŒ
    
    2.  videoRouter.js ìˆ˜ì •
        â©   videoRouter.get("/:id([0-9a-f]{24})", watch);
            ğŸ‘‰ğŸ»  mongooseì— ë¶€ì—¬ë°›ì€ 16ì§„ìˆ˜ 24ìë¦¬ idì— ëŒ€í•œ ì •ê·œí‘œí˜„ì‹

#6.20
    1.  videoController.js ìˆ˜ì •
        â©   export const watch = async (req, res) => {
            ğŸ‘‰ğŸ»   if (!video) {
                â•  controllerì—ì„œ video dbë¥¼ ë¶ˆëŸ¬ì™”ì„ë• ì—ëŸ¬ì²˜ë¦¬ë¶€í„° ë¨¼ì € í•˜ì
            
    2.  404.pug ìƒì„±

    3.  edit.pug ìˆ˜ì •
        â©   input(name="hashtags",placeholder="Hashtags, seperated by comma.",required,value=video.hashtags.join())
            ğŸ‘‰ğŸ»  array.join()ì€ arrayì˜ ìš”ì†Œë“¤ì„ í•˜ë‚˜ì˜ stringìœ¼ë¡œ ë¬¶ì–´ì¤€ë‹¤
                â•  ["a","b","c","d"].join() => "abcd"

ğŸŒ        ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ             

#6.21 ~ #6.22
    1.  videoController.js ìˆ˜ì •
        â©   export const postEdit = async (req, res) => {
            ğŸ‘‰ğŸ»  const video = await Video.exists({ _id: id });
                â•  Model.exists({condition}) ëŠ” dbì— condition(ì¡°ê±´)ì´ ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸í›„ booleanê°’ì„ ë¦¬í„´í•´ì¤€ë‹¤.
            ğŸ‘‰ğŸ»   await Video.findByIdAndUpdate(id, {
                â•  Model.findByIdAndUpdate(id,{})ëŠ” idë¥¼ ì´ìš©í•´ dbì—ì„œ ë°ì´í„°ë¥¼ ë°›ì•„ì˜¤ê³  {}ì•ˆì˜ ë‚´ìš©ì„ ì—…ë°ì´íŠ¸í•œë‹¤.
            ğŸ‘‰ğŸ»  hashtags: hashtags.split(",").map((word) => (word.startsWith("#") ? word : `#${word}`))
                â•  String.startsWith("#")ëŠ” Stringì´ #ë¡œ ì‹œì‘í•˜ëŠ”ì§€ í™•ì¸ í›„ booleanê°’ì„ ë¦¬í„´í•´ì¤€ë‹¤.

ğŸŒˆ        ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ

#6.23
    1.  Video.js ìˆ˜ì •
        â©   videoSchema.pre("save", async function () {
            ğŸ‘‰ğŸ»  this.hashtags = this.hashtags[0].split(",").map((word) => (word.startsWith("#") ? word : `#${word}`));
                â•  schema.pre('save',async function(){})ì€ schemaê°€ ì €ì¥ë˜ê¸°ì „ì— ì‹¤í–‰ë˜ëŠ” mongoose middlewareì´ë‹¤.
                â•  schema.pre('save',async function(){})ëŠ” functionë‚´ë¶€ì— thisë¥¼ ê°–ê³  , thisëŠ” ì €ì¥ë  ë¬¸ì„œë¥¼ ì˜ë¯¸í•œë‹¤. (console.log(this))

ğŸŒ        ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ             

#6.24
    1.  Video.js ìˆ˜ì •
        â©   videoSchema.static("formatHashtags", function (hashtags) {
            ğŸ‘‰ğŸ»  schema.static("functionName",function(parameter)){}ëŠ” Model.functionName() í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ì¤€ë‹¤
        
    2.  videoController.js ìˆ˜ì •
        â©   export const postEdit = async (req, res) => {
            ğŸ‘‰ğŸ»  hashtags: Video.formatHashtags(hashtags)
                â•  schemaì— staticí•¨ìˆ˜ë¥¼ ì ìš©

ğŸŒ        ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ       

#6.25
    1.  videoController.js ìˆ˜ì •
        â©   export const deleteVideo = async (req, res) => {
            ğŸ‘‰ğŸ»  await Video.findByIdAndDelete(id)
                â•  Model.findByIdAndDeleteëŠ” idë¥¼ ì´ìš©í•˜ì—¬ dbì—ì„œ í•´ë‹¹idë¥¼ ê°€ì§„ ë°ì´í„°ë¥¼ ì§€ì›Œì¤€ë‹¤.

ğŸŒˆ        ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ

#6.26~#6.27
    1.  videoController.js ìˆ˜ì •
        â©   export const search = async (req, res) => {
            ğŸ‘‰ğŸ»  const { keyword } = req.query;
                if (keyword) {
                  const videos = await Video.find({
                    title: {
                      $regex: new RegExp(keyword, "i"),
                    },
                  });
                  return res.render("search", { pageTitle: "Search", videos });
                }
                return res.render("search", { pageTitle: "Search" });
                â•  req.queryëŠ” getìœ¼ë¡œ ì „ë‹¬ëœ formì„ ë°›ì•„ì˜¨ë‹¤
                â•  $regex: new RegExp(keyword,"i")ëŠ” mongoDBì˜ regex (ì •ê·œí‘œí˜„ì‹)ì´ë‹¤

ğŸŒ        ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ       

#7.0~7.3
    1.  join.pug ìƒì„±

    2.  User.js ìƒì„±
        â©   import bcrypt from "bcrypt";
            ğŸ‘‰ğŸ»  bcryptëŠ” ë¹„ë°€ë²ˆí˜¸ í•´ì‹±í•´ì£¼ëŠ” íŒ¨í‚¤ì§€,  npm i bcrypt
        â©   const userSchema = new mongoose.Schema({
            ğŸ‘‰ğŸ»  email: { type: String, requred: true, unique: true },
                â•  uniqueëŠ” ê³ ìœ í•œê°’ìœ¼ë¡œ ì„¤ì •í•´ì¤€ë‹¤.
        â©  userSchema.pre("save", async function () {
            ğŸ‘‰ğŸ»  this.password = await bcrypt.hash(this.password, 5);
                â•  await bcrypt.hash(password,í•´ì‹±íšŸìˆ˜)
    
    3.  userController.js ìˆ˜ì •
        â©   export const postJoin = async (req, res) => {
            ğŸ‘‰ğŸ»  const exists = await User.exists({ $or: [{ username }, { email }] });
                â•  í•œë²ˆì— ì—¬ëŸ¬ conditionì„ ì¡°íšŒí•˜ê³ ì‹¶ì„ë•Œ $or: [ {condition1}, {condition2} ] => return true / false

ğŸŒˆ        ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ

#7.4
    1.  userController.js , videoController.js ìˆ˜ì •
        â©    return res.status(400).render(
            ğŸ‘‰ğŸ»  res.status(400) ì€ ìƒíƒœì½”ë“œë¥¼ 400ìœ¼ë¡œ ë³´ë‚¸ë‹¤.

ğŸŒ        ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ       

#7.5~#7.6
    1.  userController.js ìˆ˜ì •
        â©   import bcrypt from "bcrypt";
        â©   const user = await User.findOne({ username });
            ğŸ‘‰ğŸ»  Model.findOne({condition})ì€ conditionì— ì¼ì¹˜í•˜ëŠ” dataë¥¼ ê°€ì ¸ë‹¤ì¤€ë‹¤.
        â©   export const postLogin = async (req, res) => {
            ğŸ‘‰ğŸ»  const ok = await bcrypt.compare(password, user.password);
                â• await bcrypt.compare(password, db Password) ëŠ” passwordê°€ í•´ì‹±ë˜ë©´ dbì— passwordë‘ ì¼ì¹˜í•˜ëŠ”ì§€ í™•ì¸ì‹œì¼œì¤€ë‹¤.

ğŸŒˆ        ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ

#7.7~#7.8
    1.  server.js ìˆ˜ì •
        â©   import session from "express-session";
            ğŸ‘‰ğŸ»  express-sessionì€ expressì „ìš© session íŒ¨í‚¤ì§€ì´ë‹¤. npm i express-session
        â©   app.use(
            ğŸ‘‰ğŸ»  session({
                    secret: "Hello!",
                    resave: true,
                    saveUninitialized: true,
                })
                â•  express-sessionì˜ ê¸°ë³¸ ì…‹íŒ… (ì¶”í›„ì„¤ëª…)

ğŸŒ        ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ       

#7.9~#7.10
    1.  userController.js ìˆ˜ì •
        â©    export const postLogin = async (req, res) => {
            ğŸ‘‰ğŸ»  req.session.loggedIn = true;
                req.session.user = user;
                â•  sessionì— ì›í•˜ëŠ” objectë¥¼ ì¶”ê°€í• ìˆ˜ìˆë‹¤.
        
    2.  middlewares.js ìƒì„±
        â©   export const localsMiddleware = (req, res, next) => {
            ğŸ‘‰ğŸ»   res.locals.siteName = "Wetube";
                  res.locals.loggedIn = Boolean(req.session.loggedIn);
                  res.locals.loggedInUser = req.session.user;
                  next();
                };
                â•  res.locals ëŠ” pugí…œí”Œë¦¿ì´ ì°¸ì¡°í• ìˆ˜ìˆëŠ” ë³€ìˆ˜ë¥¼ ì„¤ì •í•˜ëŠ” ê³µê°„ì´ë‹¤.
    
    3.  server.js ìˆ˜ì •
        â©   import { localsMiddleware } from "./middlewares";
        â©   app.use(localsMiddleware);
            ğŸ‘‰ğŸ»  app.use(localsMiddleware)ëŠ” ë¼ìš°í„°ë°”ë¡œìœ„ì— ì˜¤ëŠ”ê²ƒì´ ì¢‹ë‹¤.
    
    4.  base.pug ìˆ˜ì •
        â©   a(href="/my-profile") #{loggedInUser.name}'s Profile
            ğŸ‘‰ğŸ»  localsMiddlewareì— ì‘ì„±í•œ loggedInUserë³€ìˆ˜ë¥¼ pug í…œí”Œë¦¿ì—ì„œ í™œìš©

ğŸŒˆ        ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ

#7.12
    1.  session IdëŠ” ë¸Œë¼ìš°ì € ì¿ í‚¤ì— ì €ì¥ë˜ê³ , session DataëŠ” ì„œë²„(express)ì˜ memory storeì— ì €ì¥ë˜ì–´ ì„œë²„ê°€ ì¬ì‹œì‘ ë˜ë©´ sessionì´ ë‚ ë¼ê°„ë‹¤
        sessionì„ ìœ ì§€í•˜ê¸° ìœ„í•˜ì—¬ Mongo DBì— sessionì„ ì €ì¥í•´ì•¼ í•œë‹¤.
        â©   server.js ìˆ˜ì •
            ğŸ‘‰ğŸ»  npm i connect-mongo
            ğŸ‘‰ğŸ»  import MongoStore from "connect-mongo"
            ğŸ‘‰ğŸ»  session middlewareë‚´ë¶€ì— store: MongoStore.create({ mongoUrl: "mongoUrlë³µë¶™" }),
                â•  mongoUrlì€ db.jsì—ì„œ í™•ì¸ ê°€ëŠ¥
    
ğŸŒ        ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ       

#7.13
    1.  session middlewareì—ì„œ resaveëŠ” ëª¨ë“  requestë§ˆë‹¤ ê°–ê³ ìˆë˜ sessionì´ ìˆ˜ì •ë˜ì§€ ì•Šì•„ë„ ê·¸ sessionì„ ì¬ì €ì¥ í•˜ëŠ” ì˜µì…˜
        saveUninitializedëŠ” requestê°€ ë“¤ì–´ì˜¤ë©´ í•´ë‹¹ requestì—ì„œ ìƒˆë¡œ ìƒì„±ëœ sessionì´ ìˆ˜ì •ë˜ì§€ ì•Šì•„ë„ ê·¸ sessionì„ ì €ì¥ í•˜ëŠ” ì˜µì…˜
        â©   server.js ìˆ˜ì •
            ğŸ‘‰ğŸ»  resave: false,
                saveUninitialized: false,
                â•  ìˆ˜ì •ëœê²ƒë„ ì—†ëŠ”ë° ë§¤ë²ˆ sessionì´ ì¬ì €ì¥ë˜ë©´ ë¹„íš¨ìœ¨ì 

ğŸŒˆ        ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ

#7.14 ~ #7.15  
    1.  ë¸Œë¼ìš°ì € - F12 - Application - Cookiesì—ëŠ” propertyë“¤ì´ ë§ë‹¤.
        secret = sessionì„ ìš°ë¦¬ ë°±ì—”ë“œë§Œ ì•Œì•„ë³¼ìˆ˜ ìˆë„ë¡ ì•”í˜¸í™” í•´ì¤€ë‹¤.
        Domain = cookieë¥¼ ë§Œë“  ë°±ì—”ë“œê°€ ëˆ„êµ¬ì¸ì§€ ì•Œë ¤ì¤Œ / cookieëŠ” Domainìœ¼ë¡œ ì „ì†¡ë¨
        expire / Max-Age = ì„¸ì…˜ì˜ ë§Œë£Œê¸°í•œì— ëŒ€í•œ ì •ë³´ => cookie:{maxAge:1000} = ì„¸ì…˜ ë§Œë£Œê¸°í•œ 1ì´ˆ (ë‹¨ìœ„ ms)
        â©   server.js ìˆ˜ì •
            ğŸ‘‰ğŸ»  cookie: { maxAge: 3600000 }, 
                â•  ì¿ í‚¤ì˜ ë§Œë£Œê¸°í•œì„ 3600ì´ˆë¡œ ì„¤ì •

    2.  í™˜ê²½ë³€ìˆ˜(environment variable)ëŠ” ë³´ì•ˆìƒ ì½”ë“œì— ë“¤ì–´ê°€ë©´ ì•ˆë˜ëŠ” ê°’ë“¤ì„ ë³€ìˆ˜ë¡œ ì„¤ì •í•´ì¤€ë‹¤.(mongoDBì˜ URL, Sessionì˜ secret ë“±)
        í™˜ê²½ë³€ìˆ˜ëŠ” 'dotenv íŒ¨í‚¤ì§€'ë¥¼ í•„ìš”ë¡œ í•˜ë©° '.env'íŒŒì¼ì— ì‘ì„±ì„ í•˜ê³  'process.env.ë³€ìˆ˜ëª…' ìœ¼ë¡œ ì‚¬ìš© ê°€ëŠ¥í•˜ë‹¤ (.env íŒŒì¼ì€ .gitigonreì— ë“±ë¡ë˜ì–´ì•¼ í•œë‹¤)
        'dotenv íŒ¨í‚¤ì§€'ëŠ” ëª¨ë“  importë¬¸ì¤‘ì—ì„œ ì œì¼ ë¨¼ì € importë˜ëŠ”ê²ƒì´ ì¢‹ë‹¤
        â©   .env ìƒì„±
            ğŸ‘‰ğŸ»  COOKIE_SECRET=dmgajkn12on1kgh89queh192r81y8nciu
                DB_URL=mongodb://127.0.0.1:27017/youtube_clone
                â•  mongoDBì˜ URLê³¼ Sessionì˜ secretì„ í™˜ê²½ë³€ìˆ˜ë¡œ ì§€ì •í•´ì¤€ë‹¤.
        â©   .gitignore ìˆ˜ì •
            ğŸ‘‰ğŸ»  .env ì¶”ê°€
        â©   npm i dotenv
            ğŸ‘‰ğŸ»  dotenv íŒ¨í‚¤ì§€ ì„¤ì¹˜
        â©   init.js ìˆ˜ì •
            ğŸ‘‰ğŸ»  import "dotenv/config";
                â•  ëª¨ë“  importë¬¸ ì¤‘ì—ì„œ ì œì¼ ë¨¼ì € ì˜¤ë„ë¡ í•´ì¤€ë‹¤
        â©   db.js ìˆ˜ì •
            ğŸ‘‰ğŸ»  mongoose.connect(process.env.DB_URL, {
                â•  envíŒŒì¼ì•ˆì— DB_URL ë³€ìˆ˜ë¥¼ ì‚¬ìš©
        â©   server.js ìˆ˜ì •
            ğŸ‘‰ğŸ»  secret: process.env.COOKIE_SECRET,
                â•  envíŒŒì¼ì•ˆì— COOKIE_SECRET ë³€ìˆ˜ë¥¼ ì‚¬ìš©

ğŸŒ        ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ       

#7.16~#7.21
    
    1.  ì†Œì…œë¡œê·¸ì¸ êµ¬í˜„í•˜ëŠ”ë²• (ê¹ƒí—™ë¡œê·¸ì¸)
        â©   íë¦„ : ê¹ƒí—™ë¡œê·¸ì¸ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ì‚¬ìš©ìë¥¼ ê¹ƒí—™ìœ¼ë¡œ ë³´ë‚¸ë‹¤  > 
                    ì‚¬ìš©ìê°€ ê¹ƒí—™ ì´ë©”ì¼ë¹„ë²ˆë“±ì„ ì…ë ¥í•˜ê³  ìê¸° ì •ë³´ë¥¼ ê¹ƒí—™ì—ì„œ ìš°ë¦¬ì„œë²„ì— ê³µìœ í•˜ëŠ”ê²ƒì„ ìŠ¹ì¸í•œë‹¤ > 
                    ê¹ƒí—™ì€ ì‚¬ìš©ìë¥¼ ìš°ë¦¬ ì›¹ì‚¬ì´íŠ¸ë¡œ ë³´ë‚¸ë‹¤ > 
                    ê¹ƒí—™ì€ ì‚¬ìš©ìë¥¼ tokenê³¼í•¨ê»˜ redirectì‹œí‚¨ë‹¤ > 
                    ìš°ë¦¬ëŠ” ê·¸ tokenìœ¼ë¡œ ì‚¬ìš©ìì˜ ì •ë³´ë¥¼ ë°›ì•„ì˜¨ë‹¤(tokenì€ ë¹ ë¥´ê²Œ ë§Œë£Œëœë‹¤)

        â©   ìˆœì„œ
            ğŸ‘‰ğŸ»  0. êµ¬ê¸€ì— github oauth ì…ë ¥í›„ ë‚˜ì˜¤ëŠ” GitHub Docsì— ë“¤ì–´ê°„ë‹¤ (https://docs.github.com/en/developers/apps/building-oauth-apps/authorizing-oauth-app)
            ğŸ‘‰ğŸ»  1. ê¹ƒí—™ Application ìƒì„±
                â•  My Github  
                    > ë‚´ ì•„ì´ì½˜ í´ë¦­ í›„ Settings 
                    > ì™¼ìª½ Developer settings 
                    > OAuth Apps 
                    > New OAuth App 
                    > name, URL, description ì‘ì„±
                    > Authorization callback URL ì— 'http://localhost:4000/users/github/finish' ì‘ì„±
                    > Register application ë²„íŠ¼ 
                    > Client ID, Client secretsê°€ ìˆëŠ” í˜ì´ì§€ê°€ ë‚˜ì˜¨ë‹¤
            ğŸ‘‰ğŸ»  2. login.htmlì— userë¥¼ GitHubë¡œ ë³´ë‚´ì¤„ aíƒœê·¸ë¥¼ ì‘ì„±
            ğŸ‘‰ğŸ»  3. aíƒœê·¸ì˜ hrefë¥¼ /users/github/startë¡œ ì‘ì„±í•˜ê³  routerì™€ controllerë¥¼ ë§Œë“ ë‹¤
                â•  GitHubì—ì„œ Client Idë¥¼ ë¶€ì—¬ë°›ê³  í™˜ê²½ë³€ìˆ˜(GH_CLIENT)ë¡œ ë‹´ëŠ”ë‹¤ (ë²”ìš©ì„±ì˜ ì´ìœ ) 
                    > controller ë‚´ë¶€ì— configê°ì²´ë¥¼ ìƒì„± í›„ allow_id, client_id, scope ë“±ì˜ parameterë¥¼ propertyë¡œ ë‹´ëŠ”ë‹¤ 
                        ( parameterì¢…ë¥˜ëŠ” GitHub Docsì˜ 1ë²ˆ URL ì•„ë˜ì— ìˆê³ , ìŠ¤ë„¤ì´í¬í‘œê¸°ë²•ì„ ì‚¬ìš©í•´ì•¼í•œë‹¤ )
                    > baseUrlë³€ìˆ˜ë¥¼ ë§Œë“¤ì–´ GitHub Docsì˜ 1ë²ˆì— ìˆëŠ” urlì„ ë‹´ì•„ì£¼ê³  
                    > paramsë³€ìˆ˜ë¥¼ ë§Œë“¤ì–´ config ê°ì²´ë¥¼ ì¸ì½”ë”© ì‹œí‚¨ë‹¤. 
                        ( const params = new URLSearchParams(config).toString() )
                    > finalUrlë³€ìˆ˜ë¥¼ ë§Œë“¤ì–´ baseUrlê³¼ paramsë¥¼ í•©ì¹˜ê³  finalUrlì„ redirect ì‹œì¼œì¤€ë‹¤ 
                        ( paramsì•ì—ëŠ” ? ê°€ ìˆì–´ì•¼í•œë‹¤ )
            ğŸ‘‰ğŸ»  4. ìœ ì €ê°€ a íƒœê·¸ë¥¼ ëˆ„ë¥´ë©´ ìœ ì €ëŠ” GitHubë¡œ ë³´ë‚´ì§€ê²Œ ë˜ê³ 
                    GitHubì—ì„œ ì •ë³´ ê³µìœ ì— ëŒ€í•œ ìŠ¹ì¸ì„ ëˆ„ë¥´ë©´ GitHubëŠ” 1ë²ˆì—ì„œ ì…ë ¥í•œ Authorization callback URLì— GETìš”ì²­ì„ ë³´ë‚´ê³  
                    url queryë¡œ codeë¥¼ ë³´ì—¬ì¤€ë‹¤ (ì£¼ì†Œì°½ì—ì„œ í™•ì¸ê°€ëŠ¥)
            ğŸ‘‰ğŸ»  5. Autorization callback URLì—ì„œ ì„¤ì •í•œ urlì˜ routerì™€ controllerë¥¼ ë§Œë“¤ì–´ì¤€ë‹¤
                â•  GitHubì—ì„œ Client secretsë¥¼ ë¶€ì—¬ë°›ê³  í™˜ê²½ë³€ìˆ˜(GH_SECRET)ë¡œ ë‹´ëŠ”ë‹¤ (ë³´ì•ˆìƒì˜ ì´ìœ )
                    > controller ë‚´ë¶€ì— config ê°ì²´ë¥¼ ìƒì„± í›„ client_id, client_secret, code ë“±ì˜ parameterë¥¼ propertyë¡œ ë‹´ëŠ”ë‹¤ 
                        ( codeê°’ì€ req.query.code ) ( parameterì¢…ë¥˜ëŠ” GitHub Docsì˜ 2ë²ˆ URL ì•„ë˜ì— ìˆê³ , ìŠ¤ë„¤ì´í¬í‘œê¸°ë²•ì„ ì‚¬ìš©í•´ì•¼í•œë‹¤ )
                    > baseUrlë³€ìˆ˜ë¥¼ ë§Œë“¤ì–´ GitHub Docsì˜ 2ë²ˆì— ìˆëŠ” urlì„ ë‹´ì•„ì£¼ê³  
                    > paramsë³€ìˆ˜ë¥¼ ë§Œë“¤ì–´ config ê°ì²´ë¥¼ ì¸ì½”ë”© ì‹œí‚¨ë‹¤.
                        ( const params = new URLSearchParams(config).toString() )
                    > finalUrlë³€ìˆ˜ë¥¼ ë§Œë“¤ì–´ baseUrlê³¼ paramsë¥¼ í•©ì¹œë‹¤.
                        ( paramsì•ì—ëŠ” ? ê°€ ìˆì–´ì•¼í•œë‹¤ )
                    > dataë³€ìˆ˜ë¥¼ ë§Œë“¤ê³  fetchí•¨ìˆ˜ë¥¼ ì´ìš©í•´ finalUrlì˜ ì„œë²„ë¡œ postë¡œ ìš”ì²­í•œë‹¤. fetch(url)ì€ ë‹¤ë¥¸ì„œë²„ë¥¼ í†µí•´ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” í•¨ìˆ˜ë‹¤
                        ( const data = await fetch(finalUrl, { method:"post" }) )
                    > fetchí•¨ìˆ˜ë¡œ ë°›ì•„ì˜¨ ë°ì´í„°ë¥¼ jsoní˜•íƒœë¡œ ë³€í™˜í•´ì¤€ë‹¤.
                        ( const json = await data.json() )
                    > jsonì„ ë¦¬í„´ë°›ê¸°ìœ„í•´ ì¶”ê°€ì‘ì—…ì„ í•´ì¤€ë‹¤
                        â¡  5-1. await fetch (finalUrl, { method: "post", }ì—ì„œ method property ë‹¤ìŒì— headers propertyë¥¼ ì¶”ê°€ ( headers:{} )
                        â¡  5-2. GitHub Docsì˜ 2ë²ˆì§¸ URL Responseë¶€ë¶„ì—ì„œ ë‘ë²ˆì§¸ boxì— ì í˜€ìˆëŠ” Accept: application/json ì„ ë³µì‚¬í•˜ì—¬ headers:{}ë‚´ë¶€ì— ë¶™ì—¬ë„£ê¸°
                        â¡  5-3. Accept: application/json ì—ì„œ application/jsonë¶€ë¶„ì„ "application/json"ë¡œ ë°”ê¿”ì¤€ë‹¤.
                    > fetch()ë¥¼ ë™ì‘ì‹œí‚¤ê¸° ìœ„í•´ npm install node-fetch@2.6.1 ë¥¼ í•˜ê³  node-fetchë¥¼ import fetch from "node-fetch"í•´ì¤€ë‹¤
                    ã€€  ( ë¸Œë¼ìš°ì €ì™€ NodeJSëŠ” ë˜‘ê°™ì´ JSë¥¼ ì‚¬ìš©í•˜ì§€ë§Œ NodeJSì—ì„œëŠ” ì •ì˜ë˜ì§€ ì•Šì€ JSí•¨ìˆ˜ë“¤ì´ ìˆë‹¤. ì˜ˆë¥¼ë“¤ì–´ alert, fetch )
                    > console.log(json)ì„ í•˜ë©´ access_tokenê³¼ token_typeê³¼ scopeë¥¼ ë°›ì€ê±¸ í™•ì¸ í•  ìˆ˜ ìˆë‹¤.
            ğŸ‘‰ğŸ»  6. json ì•ˆì˜ access_tokenì„ ê°–ê³  APIì— ì ‘ê·¼í•˜ì—¬ ìœ ì €ì˜ ì •ë³´ë¥¼ ì–»ëŠ”ë‹¤
                â•  jsonì•ˆì— access_tokenì´ ë‹´ê²¨ìˆë‹¤ë©´ jsonìœ¼ë¡œë¶€í„° access_tokenì„ êº¼ë‚´ì–´ access_token ë³€ìˆ˜ì— ë‹´ê³ ,
                    GitHub Docsì˜ 3ë²ˆì§¸ GET ìš”ì²­ URLì— fetchë¥¼ ì¨ì£¼ê³  headersì— jsonìœ¼ë¡œ ë¶€í„° ë°›ì€ access_tokenì„ í•¨ê»˜ ë³´ë‚¸ë‹¤.
                    ë§Œì¼ jsonì•ˆì— access_tokenì´ ì—†ë‹¤ë©´ login í˜ì´ì§€ë¡œ redirect ì‹œì¼œì¤€ë‹¤
                    >   if("access_token" in json){ã€€ã€€
                      ã€€    const {access_token} =json
                      ã€€    const userData= awiat fetch("https://api.github.com/user", {ã€€
                      ã€€        heaers: {ã€€
                      ã€€ã€€ã€€        Authorization: `token ${access_token}`,ã€€ã€€
                                },
                            });
                      ã€€} else {
                      ã€€    return res. redirect("/login");ã€€ã€€
                      ã€€}
            ğŸ‘‰ğŸ»  7. const fialUrl ì•„ë˜ì¤„ë¶€í„° ì½”ë“œë¥¼ ì „ë¶€ í¬ë§·íŒ… í•´ì£¼ì
                â•  const tokenRequest = await (await fetch(finalUrl, { method:"POST", headers:{ Accept:"application/json",},})).json();
                    ( const json = await data.json(); ì€ ì§€ì›Œì£¼ì)
                    if ("access_token" in tokenRequest) {
                        const { access_token } = tokenRequest;ã€€
                        const userData= await (await fetch("https://api.github.com/user",{ headers:{ Authorization: `token ${access_token}`,},})).json();
                    }
                    else { return res.redirect("/login");}
            ğŸ‘‰ğŸ»  8. ì´ë ‡ê²Œ í•˜ë©´ userì˜ ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¬ìˆ˜ ìˆì§€ë§Œ, emailì´ privateì¼ ê²½ìš° email:null ì´ë¼ê³  ë‚˜ì˜¨ë‹¤, ì´ëŸ´ë•Œ í•´ê²°ë°©ì•ˆ
                â•  const userDataë‹¤ìŒì— const emailDataë¥¼ ì„ ì–¸
                    >   const emailData = await ( await fetch("https://api.github.com/user/emails", { headers: { Authorization: `token ${access_token}`,},})).json();
                        console.log(emailData);
            ğŸ‘‰ğŸ»  9. emailDataë³€ìˆ˜ ë‹¤ìŒì— emailë³€ìˆ˜ë¥¼ ë§Œë“¤ì–´ì„œ emailDataì—ì„œ verifiedì´ë©´ì„œ primaryì¸ emailë°ì´í„°ë¥¼ ì°¾ì•„ì„œ ë³€ìˆ˜ì— emailë³€ìˆ˜ì— ë‹´ëŠ”ë‹¤
                â•  const emailObj = emailData.find((email)=>email.primary===true && email.verified===true);
                ã€€ ã€€>  if(!emailObj){return res.redirect("/login")
            ğŸ‘‰ğŸ»  10. emailObjì•ˆì˜ emailì´ ì´ë¯¸ UserDBì— ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸í•˜ê³  ì¡´ì¬í•œë‹¤ë©´ í•´ë‹¹ìœ ì €ë¥¼ loginì‹œí‚¨ë‹¤
                â•  const existingUser = await User.findOne({ email: emailObj.email });
                    if (existingUser) {
                        req.session.loggedIn = true;
                        req.session.user = existingUser;
ã€€                      return res.redirect("/");
                    } else{

            ğŸ‘‰ğŸ»  11. emailObjì•ˆì˜ emailì´ UserDBì— ì¡´ì¬í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´ í•´ë‹¹ emailë¡œ ìœ ì €ë¥¼ ë§Œë“ ë‹¤
                â•  else {
                        //create an account
                        const user = await User.create({
                            name: userData.name,
                            username: userData.login,
                            email: emailObj.email,
                            password: "",
                            location: userData.location,
                            socialLogin: true,
                            avatarUrl: userData.avatar_url,
                        });
                        req.session.loggedIn = true;
                        req.session.user = user;
                        return res.redirect("/");
                    }

ğŸŒˆ        ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ

#7.22
    1.  userController ìˆ˜ì •
        â©   export const logout = (req, res) => {
            ğŸ‘‰ğŸ»  req.session.destroy();
                â•  ì„¸ì…˜ì„ íŒŒê´´í•œë‹¤.

ğŸŒ        ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ       

#8.0
    1.  middlewares.js ìˆ˜ì •
        â©   res.locals.loggedInUser = req.session.user || {};
            ğŸ‘‰ğŸ»  login ë˜ì§€ì•Šì€ ìœ ì €ê°€ /users/editë¥¼ ìš”ì²­í•˜ë©´ ì—ëŸ¬í˜ì´ì§€ì— pugí…œí”Œë¦¿ì´ ë…¸ì¶œëœë‹¤. (loggedIn.usernameì„ ì°¾ì„ìˆ˜ ì—†ë‹¤ëŠ”ì‹ìœ¼ë¡œ)
                ê·¸ê²ƒì„ ë§‰ê¸°ìœ„í•´ || {} ë¥¼ ì¶”ê°€í•˜ì—¬ loggedInUserê°€ undefinedë˜ëŠ” í˜„ìƒì„ ë§‰ëŠ”ë‹¤
                â•  í—ˆë‚˜, ì €ë ‡ê²Œë˜ë©´ ë¡œê·¸ì¸í•˜ì§€ ì•Šì€ ìœ ì €ê°€ /users/editì— ì ‘ê·¼ì´ ê°€ëŠ¥í•´ì§€ê¸° ë–„ë¬¸ì— ì´ ì—ëŸ¬ë¥¼ ë”°ë¡œ ë§‰ì•„ì•¼í•œë‹¤.

ğŸŒˆ        ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ

#8.1
    1.  middlewares.js ìˆ˜ì •
        â©   export const protectorMiddleware = (req, res, next) => {
                if (req.session.loggedIn) {
                  next();
                } else {
                  return res.redirect("/login");
                }
            ğŸ‘‰ğŸ»  ë¡œê·¸ì¸ í•˜ì§€ì•Šì€ ìœ ì €ê°€ /users/edit ê°™ì€ í˜ì´ì§€ì— ë“¤ì–´ê°€ëŠ”ê±¸ ë§‰ì•„ì£¼ëŠ” ë¯¸ë“¤ì›¨ì–´
        â©   export const publicOnlyMiddleware = (req, res, next) => {
                if (!req.session.loggedIn) {
                    return next();
                } else {
                    return res.redirect("/");
                }
            ğŸ‘‰ğŸ»  ë¡œê·¸ì¸ í•œ ìœ ì €ê°€ /login ê°™ì€ í˜ì´ì§€ì— ë“¤ì–´ê°€ëŠ”ê±¸ ë§‰ì•„ì£¼ëŠ” ë¯¸ë“¤ì›¨ì–´

    2.  userRouter.js ìˆ˜ì •
        â©   userRouter.route("/edit").all(protectorMiddleware).get(getEdit).post(postEdit);
            ğŸ‘‰ğŸ»  route.all(middleware)ì€ getê³¼ post ë‘˜ë‹¤ì—ê²Œ ì ìš©ë˜ëŠ” ë¯¸ë“¤ì›¨ì–´ë¥¼ ì‚¬ìš©í•  ë•Œ ì“´ë‹¤.
            
ğŸŒˆ        ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ

#8.2 ~ 8.3
    1. userController.js ìˆ˜ì •
        â©   export const postEdit = async (req, res) => {
            ğŸ‘‰ğŸ»  session: { user: { _id, email: sessionEmail, username: sessionUsername },},
                â•  í•œ objectì—ì„œ ì—¬ëŸ¬ propertyë¥¼ ë¶ˆëŸ¬ì˜¬ë•Œ ì‚¬ìš©í•˜ëŠ” ë°©ë²• ES6
        â©   const updatedUser = await User.findByIdAndUpdate(_id,{name,username},{new:true})
            ğŸ‘‰ğŸ»  Model.findByIdAndUpdate()ëŠ” ì²«ë²ˆì§¸ ì¸ìë¡œ idë¥¼ ë°›ê³  ë‘ë²ˆì§¸ ì¸ìë¡œ updateí•  ë‚´ìš©ë“¤ì„ ë°›ëŠ”ë‹¤.
            ğŸ‘‰ğŸ»  Model.findByIdAndUpdate()ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ì—…ë°ì´íŠ¸ì „ ë°ì´í„°ë¥¼ ë°˜í™˜í•œë‹¤. ì—…ë°ì´íŠ¸ í›„ ë°ì´í„°ë¥¼ ë°˜í™˜í•˜ë ¤ë©´ ì„¸ë²ˆì§¸ ì¸ìë¡œ {new:true}ë¥¼ í•´ì¤€ë‹¤

ğŸŒ        ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ       

#8.4~#8.5 
    1.  userController.js ìˆ˜ì •
        â©   export const getChangePassword = (req, res) => {
            ğŸ‘‰ğŸ»  if (req.session.user.socialLogin) {return res.redirect("/");}
                â•  ì†Œì…œë¡œê·¸ì¸í•œì‚¬ëŒì€ change Password í˜ì´ì§€ì— ì ‘ê·¼í• ìˆ˜ ì—†ë‹¤.
        â©   export const postChangePassword = async (req, res) => {
            ğŸ‘‰ğŸ»  user.password = newPassword;
                await user.save();
                â•  user.save()ëŠ” awaitë¥¼ ê¼­ í•´ì£¼ì! ( ëª½ê³ ë””ë¹„ì— ì ‘ê·¼ )

ğŸŒˆ        ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ

#8.6~#8.8
    1.  Multer package
        â©   multerëŠ” formìœ¼ë¡œ ë¶€í„° ë°›ì€ íŒŒì¼ì„ ì–´ë””ì— ì €ì¥í• ì§€ ì§€ì •í•´ì£¼ëŠ” ë¯¸ë“¤ì›¨ì–´
        â©   npm i multer
    
    2.  íŒŒì¼ ì—…ë¡œë“œí•˜ëŠ”ë²•
        â©   pugì—ì„œ fileì„ ë°›ëŠ” inputì„ ë§Œë“¤ì–´ì¤€ë‹¤
    ã€€      ğŸ‘‰ğŸ»  formì— enctype="multipart/form-data" ì†ì„±ì„ ì¶”ê°€
    ã€€      ğŸ‘‰ğŸ»  form ë‚´ë¶€ì— label( for="avatar") Avatar ì¶”ê°€
    ã€€      ğŸ‘‰ğŸ»  label ì•„ë˜ì¤„ì— input( type="file", id="avatar", name="avatar", accept="image/*" ) ì¶”ê°€
                â•  { labelì€ input idë¥¼ ë”°ë¥´ê³  accept="image/*"ëŠ” imageíŒŒì¼ë§Œ í—ˆìš©í•¨ } 
    
        â©   Multerë¥¼ ì„¤ì¹˜í•˜ê³  middleware.jsì— middle wareë¥¼ ì‘ì„±í•œë‹¤
    ã€€      ğŸ‘‰ğŸ»  npm i multer
    ã€€ã€€        â•  { MulterëŠ” formìœ¼ë¡œ ë¶€í„° ì˜¤ëŠ” íŒŒì¼ì„ ì–´ë””ì— ì €ì¥í• ì§€ ì§€ì •í•´ì£¼ëŠ” ë¯¸ë“¤ì›¨ì–´ }
    ã€€      ğŸ‘‰ğŸ»  import multer from "multer"
    ã€€      ğŸ‘‰ğŸ»  export const uploadFiles = multer( { dest:"uploads/" } )
    ã€€ã€€        â•  { destëŠ” íŒŒì¼ì„ ì €ì¥í•  ìœ„ì¹˜(í´ë”ëª…)ì´ê³  uploadsí´ë”ê°€ ìë™ìœ¼ë¡œ ìƒì„±ë¨ }
    
        â©   uploadsí´ë”ë¥¼ .gitignoreì— ì¶”ê°€í•œë‹¤
            ğŸ‘‰ğŸ»  /uploads
    
        â©   routerì— multer middelwareë¥¼ ì ìš©ì‹œí‚¨ë‹¤
    ã€€      ğŸ‘‰ğŸ»  userRouter.route("/edit").~~~.post( uploadFiles.single("avatar"), postEdit )
    ã€€ã€€        â•  { singleì€ íŒŒì¼ì„ í•œê°œë§Œ ì„ íƒí•œë‹¤ëŠ” ëœ»ì´ê³  single()ì•ˆì—ëŠ” type=fileì¸ inputì˜ nameì„ ì“´ë‹¤ )
    
        â©   controllerì—ì„œ formìœ¼ë¡œë¶€í„° ì „ì†¡ëœ fileì„ ë°›ì•„ì„œ ë°ì´í„°ì— ì ìš©ì‹œí‚¨ë‹¤
    ã€€      ğŸ‘‰ğŸ»  postEdit controller ë‚´ë¶€ì— req.file , req.session.user.avatarUrl
    ã€€      ğŸ‘‰ğŸ»  postEdit controller ë‚´ë¶€ì— const updateUser ë‚´ë¶€ì—  avatarUrl : file ? file.path : avatarUrl ì¶”ê°€
    ã€€ã€€        â•  { modelScheemaì— avartarUrl:Stringì´ ìˆì–´ì•¼í•¨ }
    
        â©   pugì—ì„œ req.fileì„ í†µí•´ ê°€ì ¸ì˜¨ ì´ë¯¸ì§€ë¥¼ ë„ì›Œë³´ì
    ã€€      ğŸ‘‰ğŸ»  img( src="/"+ loggedInUser.avatarUrl )
    ã€€ã€€ã€€ã€€    â•  { "/"ë¥¼ ë¶™íˆì§€ ì•Šìœ¼ë©´ relative Urlë¡œ ì ìš©ëœë‹¤ }
    
        â©   server.jsì—ì„œ ë¸Œë¼ìš°ì €ë¥¼ uploadí´ë”ì— ì ‘ê·¼í• ìˆ˜ ìˆë„ë¡ ì„¤ì •í•´ì£¼ì–´ì•¼ í•œë‹¤. ( static files serving )
    ã€€      ğŸ‘‰ğŸ»  app.use( "/uploads", express.static("uploads"))

ğŸŒ        ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ       

#8.9    
    1.  watch.pug ìˆ˜ì •
        â©   video(src="/"+video.videoUrl, controls)
            ğŸ‘‰ğŸ»  video íƒœê·¸ì˜ ì†ì„±ìœ¼ë¡œ controlsëŠ” controlerë¥¼ ë³´ì—¬ì¤€ë‹¤
    
    2.  middlewares.js ìˆ˜ì •
        â©   export const avatarUpload = multer({
            ğŸ‘‰ğŸ»  limits: {fileSize: 3000000,} 
                â•  ì—…ë¡œë“œ íŒŒì¼ì˜ í¬ê¸°ë¥¼ ì„¤ì •í• ë•Œ ì‚¬ìš©í•œë‹¤.

ğŸŒˆ        ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ

#8.10
    1.  userController.js ìˆ˜ì •
        â©   export const see = async (req, res) => {}

ğŸŒ        ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ       

#8.11   
    1.  Video.js ìˆ˜ì •
        â©   owner: { type: mongoose.Schema.Types.ObjectId, required: true, ref: "USER" },
            ğŸ‘‰ğŸ»  Video Scheemaì— ownerë¥¼ ì¶”ê°€
                â•  mongoose.Schema.Types.ObjectIdëŠ” mongooseì—ì„œ ì œê³µí•˜ëŠ” ObjectId íƒ€ì…ì´ê³  mongoose ì½”ë“œì—ì„œë§Œ ì“¸ìˆ˜ìˆë‹¤.
                â•  refëŠ” ì´ ownerë¼ëŠ” object íƒ€ì…ì˜ objectIdê°€ ì–´ë–¤ Modelë¡œë¶€í„° ì˜¤ëŠ”ì§€ ì„¤ì •í•´ì¤€ë‹¤.
    
    2.  watch.pug ìˆ˜ì •
        â©   if String(video.owner)===loggedInUser._id
            ğŸ‘‰ğŸ»  video.ownerëŠ” object íƒ€ì…ì´ë¯€ë¡œ Stringìœ¼ë¡œ ë³€í™˜í•´ì¤€ë‹¤

ğŸŒˆ        ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ

#8.12
    1.  videoController.js ìˆ˜ì •
        â©   const video = await Video.findById(id).populate("owner");
            ğŸ‘‰ğŸ»  populate("owner")ëŠ” ownerê°’ìœ¼ë¡œ videoSchemaì— ownerê°€ ì°¸ì¡°í•˜ê³ ìˆëŠ” User.jsë¥¼ ì°¸ì¡°í•˜ì—¬ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¨ë‹¤.
                â•  ownerëŠ” populateê°€ ë°œìƒì‹œ refì— ì„¤ì •ë˜ì—ˆë˜ User.jsë¥¼ ì°¸ì¡°í•˜ê³ , ownerì˜ ê°’ìœ¼ë¡œ User.jsì—ì„œ ê°’ê³¼ ì¼ì¹˜í•˜ëŠ” idë¥¼ ê°€ì§„ User ë°ì´í„°ë¥¼ ë¦¬í„´í•œë‹¤.
    1.  userController.js ìˆ˜ì •
        â©    const videos = await Video.find({ owner: user._id });
            ğŸ‘‰ğŸ»  Model.find({condition})ì€ arrayë¥¼ returní•œë‹¤ ( conditionì— ë§ëŠ” ë°ì´í„°ê°€ ì—¬ëŸ¬ê°œ ì¼ ìˆ˜ ìˆê¸° ë•Œë¬¸ )

ğŸŒ        ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ       

#8.14
    1.  User.js ìˆ˜ì •
        â©     userSchema.pre("save", async function () {
                    if (this.isModified("password")) {
                        this.password = await bcrypt.hash(this.password, 5);
                    }
            ğŸ‘‰ğŸ»  ë¹„ë°€ë²ˆí˜¸ í•´ì‹±ì´ í•œë²ˆë§Œ ì¼ì–´ë‚˜ë„ë¡ isModified("password")ë¥¼ ì‚¬ìš©í•˜ì˜€ë‹¤.

ğŸŒˆ        ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ

#9.0    
    1.  Webpackì€ JSì˜ ìµœì‹ ë¬¸ë²•ë“¤ì„ ë¸Œë¼ìš°ì €ê°€ ì´í•´í• ìˆ˜ ìˆê²Œ í•´ì¤€ë‹¤ (í”„ë¡ íŠ¸ì—”ë“œì˜ babelê°™ì€ ì—­í• )
        ì¬ë¯¸ì—†ê³  ì˜ì•ˆì“°ì§€ë§Œ ì—…ê³„í‘œì¤€ì´ê³  ì´í•´í•  í•„ìš”ëŠ” ìˆë‹¤.
        (ë¦¬ì•¡íŠ¸,ë¦¬ì•¡íŠ¸ë„¤ì´í‹°ë¸Œ,ëŒ€ë¶€ë¶„ì˜ í”„ë ˆì„ì›Œí¬ì—” ì›¹íŒ©ì´ ë‚´ì¥ë˜ì–´ ìˆì–´ì„œ ì§ì ‘ ì‚¬ìš©í• ì¼ì€ ê±°ì˜ ì—†ë‹¤.)
        ë„ˆë¬´ì–´ë µê±°ë“  Gulpê°•ì˜ë¥¼ ë³´ê³ ì˜¤ì

ğŸŒ        ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ       

#9.1~#9.3
    1.  webpack
        â©   ìš°ë¦¬ê°€ webpackì—ê²Œ ë„˜ê²¨ì£¼ëŠ” ëª¨ë“  íŒŒì¼ë“¤ì„ ë°›ì•„ì„œ loaderë¥¼ í†µí•˜ì—¬ ë³€í™˜í•´ì¤€ë‹¤.(babel loader, scss ë“±ë“±)
            ğŸ‘‰ğŸ»  ì†”ì§íˆ ì˜ì•ˆì”€ ì—…ê³„í‘œì¤€ì´ê³  ì¬ë¯¸ëŠ”ì—†ì§€ë§Œ ì´í•´í•´ì•¼í•  í•„ìš”ëŠ” ìˆë‹¤
                â•  ë¦¬ì•¡íŠ¸,ë¦¬ì•¡íŠ¸ë„¤ì´í‹°ë¸Œ,ëŒ€ë¶€ë¶„ì˜í”„ë ˆì„ì›Œí¬ì—” ì›¹íŒ©ì´ ë‚´ì¥ë˜ì–´ìˆë‹¤
                    ê·¸ë˜ì„œ ì›¹íŒ©ì„ ì§ì ‘ ì‚¬ìš©í• ì¼ì€ ê±°ì˜ì—†ë‹¤

    2.  ì›¹íŒ©ì„¤ì¹˜, ë°”ë²¨ë¡œë” ì„¤ì¹˜
        â©   npm i webpack webpack-cli -D
            npm i babel-loader -D
            (-DëŠ” devDependenciesì— ì €ì¥ì„ ì˜ë¯¸)

    3. webpack.config.js ìƒì„±
        â©   ì´íŒŒì¼ì€ jsì˜ ì˜¤ë˜ëœ ë¬¸ë²•ë§Œ ì´í•´í• ìˆ˜ìˆì–´
            ğŸ‘‰ğŸ»  const path = require("path");
                module.exports{
                    entry:"./src/client/js/main.js",
                    mode: "development",
                    output:{
                        filename:"main.js",
                        path:path.resolve(__dirname,"assets","js"`),
                    },   
                    modules:{
                ã€€ã€€    rules:[
                        ã€€ã€€{
                                test:\.js$/,
        ã€€ã€€                    use:{
                                    loader:"babel-loader",
                                    options:{
                                        presets:[["@babel/preset-env",{targets:"defaults"}]],
                                    },
                                },
                        ã€€ã€€},
                ã€€ã€€    ],
                    },
                }   
                â•  entryëŠ” webpackìœ¼ë¡œ ë³´ë‚´ë²„ë¦´ íŒŒì¼ë“¤
                â•  modeëŠ” ë‚´ê°€ ì•„ì§ ê°œë°œì¤‘ì¸ì§€,ì•„ë‹ˆë©´ ì´ íŒŒì¼ì´ ì™„ì„±í’ˆì¸ì§€ ì•Œë ¤ì¤€ë‹¤
                â•  outputì€ webpackì„ í†µí•´ ë³€í™˜ëœ íŒŒì¼ì˜ íŒŒì¼ëª…,ì €ì¥ê²½ë¡œ
                â•  path.resolveëŠ” í•´ë‹¹ê²½ë¡œì— ëª‡ê°œê°€ë˜ì—ˆë“  ìš°ë¦¬íŒŒì¼ì„ ì €ì¥í•´ì¤€ë‹¤
                â•  __dirnameì€ í˜„ì¬ íŒŒì¼ì˜ ê²½ë¡œë¥¼ ë¦¬í„´í•´ì£¼ëŠ” jsì½”ë“œ
                â•  rulesëŠ” webpackì—ì„œ ìš°ë¦¬ê°€ ê°ê°ì˜ íŒŒì¼ì¢…ë¥˜ì— ë”°ë¼ ì–´ë–¤ ì „í™˜ì„ í• ê±´ì§€ ê²°ì •í•˜ëŠ”ê²ƒ
                    âœ…  optionë¶€ë¶„ë§Œ ì‚¬ìš©í•˜ëŠ” ë¡œë”ì—ë”°ë¼ ë°”ë€ë‹¤.

    4.  scripts ì¶”ê°€
        â©   "assets":"webpack --config webpack.config.js"

    5.  server.js ìˆ˜ì •
        â©   app.use("/assets",express.static("assets"))
            ğŸ‘‰ğŸ»  assetsí´ë”ì— ì ‘ê·¼í• ìˆ˜ìˆê²Œ assetsë¼ìš°í„°ë¥¼ ì„¤ì •í•´ì¤Œ
            ğŸ‘‰ğŸ»  express.static("í´ë”ëª…")ì€ í•´ë‹¹ í´ë”ë¥¼ ëˆ„êµ¬ë‚˜ ì ‘ê·¼í• ìˆ˜ ìˆê²Œ í•´ì¤Œ

    6.  base.pugì—ì„œ
        â©   script(src="/assets/js/main.js")
            ğŸ‘‰ğŸ»  webpackì—ì„œ ë¦¬í„´í•´ì¤€ main.jsì— ì ‘ê·¼ì‹œì¼œì¤Œ

ğŸŒˆ        ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ

#9.4
    SCSSì ìš©ë²•1

    1.  src> client> scssí´ë” ìƒì„±
    
    2.  scss> styles.scss ìƒì„±
        â©   @import "./_variable";
            body { color : $red }
            ğŸ‘‰ğŸ»  scssì—ì„œ ë³€ìˆ˜ ì‚¬ìš©ë²•

    3.  scss> _variable.scss ìƒì„±
        â©   $red : red;
            ğŸ‘‰ğŸ»  scssì—ì„œ ë³€ìˆ˜ ì„¤ì •ë²•
    
    4.  
        npm i sass-loader sass webpack --save-dev
        npm i --save-dev css-loader
        npm i --save-dev style-loader

    5.  webpack.config.js ìˆ˜ì •
        â©   {
                test: /\.scss$/,
                use: ["style-loader","css-loader","sass-loader"],
              }
            ğŸ‘‰ğŸ»  ì—¬ëŸ¬ ë¡œë”ë“¤ì„ í•œë²ˆì— í•©ì¹ ë• use:[], ì‹¤í–‰ ì—­ìˆœìœ¼ë¡œ
            ğŸ‘‰ğŸ»  sass-loaderëŠ” scssíŒŒì¼ì„ ê°€ì ¸ë‹¤ê°€ cssíŒŒì¼ë¡œ ì „í™˜ì‹œì¼œì¤Œ
            ğŸ‘‰ğŸ»  css-loaderëŠ” @importì™€ url()ì„ í’€ì–´ì„œ í•´ì„í•´ì¤Œ
            ğŸ‘‰ğŸ»  style-loaderëŠ” cssë¥¼ DOMì— ì£¼ì…í•œë‹¤

ğŸŒ        ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ       

#9.5
    SCSSì ìš©ë²•2  (webpack í”ŒëŸ¬ê·¸ì¸=MiniCssExtractPlugin ì‚¬ìš©)
    MiniCssExtractPluginì€
    scssë¥¼ ë³„ë„ì˜  cssíŒŒì¼ë¡œ ë§Œë“¤ì–´ì¤€ë‹¤

    1.  src> client> scss í´ë”ìƒì„±
    
    2.  scss> styles.scss ìƒì„±
        â©   @import "./_variable";
            body { color : $red }
            ğŸ‘‰ğŸ»  scssì—ì„œ ë³€ìˆ˜ ì‚¬ìš©ë²•

    3.  scss> _variable.scss ìƒì„±
        â©   $red : red;
            ğŸ‘‰ğŸ»  scssì—ì„œ ë³€ìˆ˜ ì„¤ì •ë²•

    4.  npm i sass-loader sass webpack --save-dev
        npm i --save-dev css-loader
        npm install --save-dev mini-css-extract-plugin

    5.  webpack.config.js ìˆ˜ì •
        â©   const MiniCssExtractPlugin = require("mini-css-extract-plugin");
        â©   module.export={ }ì•ˆì— plugins:[new MiniCssExtractPlugin()],
        â©   output : { }ì•ˆì— filename: "js/main.js", path: path.resolve(__dirname, "assets"),
        â©   rules : [ ]ì•ˆì—ã€€{ test : /\.scss$/, use : [ MiniCssExtractPlugin.loader, "css-loader", "sass-loader" ],},
            ğŸ‘‰ğŸ»  ì—¬ëŸ¬ ë¡œë”ë“¤ì„ í•œë²ˆì— í•©ì¹ ë• ì‹¤í–‰ ì—­ìˆœìœ¼ë¡œ
            ğŸ‘‰ğŸ»  sass-loaderëŠ” scssíŒŒì¼ì„ ê°€ì ¸ë‹¤ê°€ cssíŒŒì¼ë¡œ ì „í™˜ì‹œì¼œì¤Œ
            ğŸ‘‰ğŸ»  css-loaderëŠ” @importì™€ url()ì„ í’€ì–´ì„œ í•´ì„í•´ì¤Œ

    6.  npm run assets
        â©   assets/jsì— main.cssíŒŒì¼ì´ ìƒì„±ëœë‹¤

    7.  base.pug ìˆ˜ì •
        â©   base.pugì—ì„œ headì•ˆì— link(link rel="stylesheet" href="/assets/css/styles.css")
            ğŸ‘‰ğŸ»  ë¯¸ë¦¬ server.jsì—ì„œ /assetsê²½ë¡œë¥¼ staticìœ¼ë¡œ ì§€ì •í•´ì£¼ì–´ì•¼í•œë‹¤

ğŸŒ        ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ       

#9.6
    scss, client ë“± í”„ë¡ íŠ¸ìª½ì˜ ìˆ˜ì •ì´ ì¼ì–´ë‚ ë•Œ webpackì„ ìë™ìœ¼ë¡œ ì‹¤í–‰í•´ì£¼ëŠ”ë²•

    1.  webpack.config.js ìˆ˜ì •
        â©   module.exports = {}ì•ˆì—
            ğŸ‘‰ğŸ»  watch : true,
                â•  scss,clientìª½ì—ì„œ ìˆ˜ì •ì´ ì¼ì–´ë‚ ë•Œë§ˆë‹¤ npm run asstetsë¥¼ ìë™ìœ¼ë¡œ í•´ì¤€ë‹¤ (ì´ˆê¸°í•œë²ˆì€ ìˆ˜ë™ì‹¤í–‰)
        â©   output : {}ì•ˆì—
            ğŸ‘‰ğŸ»  clean : true,
                â•  outputë‚´ì— pathê²½ë¡œì—ì„œ buildê°€ ì‹œì‘ë˜ê¸°ì „ì— cleanì„ í•´ì¤€ë‹¤ (ë­”ì†Œë¦°ì§€ëª¨ë¥´ê² ìŒ)
    
    2.  nodemon.json ìƒì„±, package.json ìˆ˜ì •
        â©   {
                "igonore": [ "webpack.config.js", "src/client/*", "assets/*" ],
                "exec" : "babel-node src/init.js"
            }
        â©   package.json ì—ì„œ "scripts" : {}ì•ˆì—
            ğŸ‘‰ğŸ»  "dev":"nodemon",
                "assets":"webpack"
                â•  scssë‚˜ clientë“± frontìª½ì˜ íŒŒì¼ë“¤ì´ ì €ì¥ë ë•Œ, backendê°€ ì¬ì‹¤í–‰ ë˜ëŠ”ê²ƒì„ ë§‰ì•„ì¤€ë‹¤.

ğŸŒˆ        ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ

#11.0
    1.  webpack.config.js ìˆ˜ì •
        â©   enrty:{ main : "./src~~~main.js", videoPlayer : "./src~~~videoPlayer.js" }
            ğŸ‘‰ğŸ»  entryì— ì—¬ëŸ¬ê°€ì§€ íŒŒì¼ì„ ë“±ë¡í• ìˆ˜ ìˆë‹¤.
        â©   output : { filename : "js/[name].js" }
            ğŸ‘‰ğŸ»  Webpackì´ [name]ì¹¸ì„ ì•Œì•„ì„œ entryì˜ í”„ë¡œí¼í‹°ë‘ ì¼ì¹˜ì‹œì¼œì„œ íŒŒì¼ëª…ì„ ë°˜í™˜í•´ì¤€ë‹¤

ğŸŒ        ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ       

#11.1   
    1.  videoPlayer.js ìˆ˜ì • 
        â©   if(video.paused){
                video.play()
            }
            ğŸ‘‰ğŸ»  video.pausedëŠ” true,falseë¥¼ ë¦¬í„´í•´ì¤€ë‹¤
            ğŸ‘‰ğŸ»  video.pause()ëŠ” videoë¥¼ pauseì‹œì¼œì¤€ë‹¤
            ğŸ‘‰ğŸ»  https://developer.mozilla.org/ko/docs/Web/API/HTMLMediaElement

ğŸŒˆ        ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ

#11.2~#11.3
    â©   const handleMute = (e) => {}

ğŸŒˆ        ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ          ğŸŒˆ
ğŸŒ        ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ          ğŸŒ       
â¤ğŸ§¡ğŸ’›ğŸ’šğŸ’™ğŸ’œğŸ¤ğŸ–¤â¤ğŸ§¡ğŸ’›ğŸ’šğŸ’™ğŸ’œğŸ¤ğŸ–¤â¤ğŸ§¡ğŸ’›ğŸ’šğŸ’™ğŸ’œğŸ¤ğŸ–¤â¤ğŸ§¡ğŸ’›ğŸ’šğŸ’™ğŸ’œğŸ¤ğŸ–¤â¤ğŸ§¡ğŸ’›ğŸ’šğŸ’™ğŸ’œğŸ¤ğŸ–¤â¤ğŸ§¡ğŸ’›ğŸ’šğŸ’™ğŸ’œğŸ¤ğŸ–¤â¤ğŸ§¡ğŸ’›ğŸ’šğŸ’™ğŸ’œğŸ¤ğŸ–¤
ì—¬íƒœê¹Œã…ˆã…ˆã…ˆã…ˆã…ˆã…ˆã…ˆã…ˆã…ˆã…ˆã…ˆã…ˆã…ˆã…ˆã…ˆã…ˆã…ˆã…ˆã…ˆã…ˆã…ˆì§€ ë°°ìš´ê±¸ í† ëŒ€ë¡œ ìˆœì„œ

1.  npm initì„ ì´ìš©í•´ package.jsonì„ ìƒì„±

2.  npm i express

3.  .gitignore íŒŒì¼ ìƒì„± > /node_modules ì‘ì„± (ê·¸ ì™¸ ì»¤ë°‹ì— ì œì™¸ í•  íŒŒì¼/í´ë”ë“¤ ì‘ì„±)

4.   srcí´ë”ìƒì„± > main JS íŒŒì¼ ìƒì„±

5.  ë°”ë²¨ ì„¤ì¹˜
    â©  babeljs í™ˆí˜ì´ì§€ > Setup > node > 2ë²ˆ ì½˜ì†”ì— ë³µë¶™ > babel.config.json ìƒì„± > 4ë²ˆ-shell ì½˜ì†”ì— ë³µë¶™ > 4ë²ˆ-JSONì„ babel.config.jsonì— ë³µë¶™

6.  nodemon ì„¤ì¹˜
    â©  babeljs í™ˆí˜ì´ì§€ > Setup > nodemon > 2ë²ˆ ì½˜ì†”ì— ë³µë¶™ > npm i nodemon --save-dev > package.json > "scripts" : { "dev" : "nodemon --exec babel-node index.js" } 

7.  expressë¥¼ importí•´ì˜¤ê³  app ë³€ìˆ˜ì— express()ë¥¼ ë‹´ëŠ”ë‹¤
    â©  import express from "express"
    â©  const app = express();

8.  appì— í¬íŠ¸ë²ˆí˜¸ë¥¼ ì§€ì •í•´ì£¼ê³  í•´ë‹¹í¬íŠ¸ë²ˆí˜¸ë¥¼ listening í•˜ê²Œ í•œë‹¤
    â©   app.listen(PORT,handleListening)
        â•  const PORT ì‘ì„±
        â•  const handleListening(){} ì‘ì„±

9.  morgan ì„¤ì¹˜
    â©   npm i morgan

10. morganì„ importí•´ì˜¤ê³  loggerë³€ìˆ˜ì— morgan("dev")ì„ ë‹´ëŠ”ë‹¤
    â©   import morgan from "morgan"
    â©   const logger = morgan("dev")

11. app.useë¡œ logger ë¯¸ë“¤ì›¨ì–´ë¥¼ ì§€ì •í•œë‹¤
    â©   app.use(logger)

12. README.md íŒŒì¼ì— ë¼ìš°í„°ë“¤ì„ ì •ë¦¬í•´ì¤€ë‹¤
    â©   /   /login  /users/:id  /users/:id/edit   /videos/:id   /videos/upload ...

13. src í´ë” > routersí´ë” ìƒì„± > ê°ê°ì˜ router.js ìƒì„±

14. ê°ê°ì˜ router.js ë‚´ë¶€ì— express importì™€ routerì„ ì–¸
    â©   import express = "express";
    â©   const ---Router = express();

15. ê°ê°ì˜ router.js ë‚´ë¶€ì— routeì™€ controller ë¶€ì—¬
    â©  ---Router.get("route",controller)

16. ê°ê°ì˜ router.js ë‚´ë¶€ì— routerë³€ìˆ˜ë¥¼ export default
    â©  export default ---Router

17. server.jsì—ì„œ ---Routerë“¤ import
    â©   import ---Router from "./routers/---Router";

18. src í´ë” > controllersí´ë” ìƒì„± > ê°ê°ì˜ controller.js ìƒì„±nodeJS

19. ê°ê°ì˜ controller.js ë‚´ë¶€ì— controller ì‘ì„±
    â©   const home = (req,res) => {}

20. ê°ê°ì˜ controller.js ë‚´ë¶€ì— controllerì— export ì¶”ê°€
    â©   export const home = (req,res) => {}

21. ê°ê°ì˜ router.js ë‚´ë¶€ì— controllerë¥¼ import
    â©   import { controller, controller2 } from "controller.js ê²½ë¡œ"

22. pug í…œí”Œë¦¿ ì„¤ì¹˜
    â©   npm i pug

23. srcí´ë” > views í´ë” ìƒì„± > base.pug ìƒì„±

24. main JSì—ì„œ view,view engine ì…‹íŒ…
    â©   app.set("view","pug")
    â©   app.set("view engine", process.cwd()+"/src/views")

25. viewsí´ë”ì— í•„ìš”í•œ pugë“¤ ìƒì„±
    â©   mixinsí´ë”ì™€ partialsí´ë” ìƒì„±

26. routerì— app.postë¥¼ ì´ìš©í•˜ì—¬ post routerë„ ì¶”ê°€

27. routerì— app.getê³¼ app.postê°€ ê°™ì€ urlì„ ì‚¬ìš©í•˜ëŠ”ê²Œ ìˆë‹¤ë©´ app.routeë¡œ í•©ì³ì£¼ì

28. npm i mongoose

29. db.js ìƒì„±

30. models í´ë” ìƒì„±
    â©   Video.jsê°™ì€ ëª¨ë¸íŒŒì¼ ìƒì„±í›„ ì‘ì„±

31. init.jsë¥¼ ë”°ë¡œë§Œë“¤ì–´ sever.jsì—ëŠ” severì˜ ì„¤ì •ê³¼ ê´€ë ¨ëœê²ƒë§Œ ë‚¨ê¸°ê³  ë‚˜ë¨¸ì§€ëŠ” init.jsë¡œ ì˜®ê²¨ì¤Œ
    â©   package.jsonì—ì„œ scriptë¥¼ server.jsì—ì„œ init.jsë¡œ ë³€ê²½í•´ì£¼ì–´ì•¼í•¨

32. controllerì— Video modelì„ ì ìš©ì‹œí‚¤ê³  Video model (db)ì— ì ‘ê·¼í• ë• async await ì˜ ì¨ì£¼ì


